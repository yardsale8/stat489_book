<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.2. Saving Expressions for Later Execution - The lambda Expression &mdash; Runestone Interactive Overview</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/livecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/2.3.1/""/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/livecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="top" title="Runestone Interactive Overview" href="../index.html" />
    <link rel="up" title="2. Expressions and Evaluation" href="toctree2.html" />
    <link rel="next" title="2.3. Expressions, Values and Evaluation" href="ExpressionsValuesAndEvaluation.html" />
    <link rel="prev" title="2.1. Transforming Simple Data with Expressions" href="TransformingSimpleDataWithExpressions.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'STAT489';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'STAT489';
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="../index.html">STAT489</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/STAT489/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/STAT489/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=STAT489&page=SavingExpressionsForLaterExecution'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">2.2. Saving Expressions for Later Execution - The <cite>lambda</cite> Expression</a><ul>
<li><a class="reference internal" href="#abstraction-with-variables-and-expressions">2.2.1. Abstraction with Variables and Expressions</a></li>
<li><a class="reference internal" href="#the-generalization-and-the-dry-principle">2.2.2. The Generalization and the DRY Principle</a></li>
<li><a class="reference internal" href="#the-lambda-expression">2.2.3. The <cite>lambda</cite> Expression</a></li>
<li><a class="reference internal" href="#boolean-functions">2.2.4. Boolean Functions</a></li>
<li><a class="reference internal" href="#aside-lambda-calculus-and-the-power-of-the-lambda-expression">2.2.5. Aside: Lambda Calculus and the Power of the Lambda Expression</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 2.1. Transforming Simple Data with Expressions" data-toggle="tooltip">
    <a href="TransformingSimpleDataWithExpressions.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 2.3. Expressions, Values and Evaluation' data-toggle="tooltip" >
    <a href="ExpressionsValuesAndEvaluation.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <blockquote>
<div>and/or modify this document under the terms of the GNU Free Documentation
License, Version 1.3 or any later version published by the Free Software
Foundation; with Invariant Sections being Forward, Prefaces, and
Contributor List, no Front-Cover Texts, and no Back-Cover Texts.  A copy of
the license is included in the section entitled &#8220;GNU Free Documentation
License&#8221;.</div></blockquote>
<div class="section" id="saving-expressions-for-later-execution-the-lambda-expression">
<h1>2.2. Saving Expressions for Later Execution - The <cite>lambda</cite> Expression<a class="headerlink" href="#saving-expressions-for-later-execution-the-lambda-expression" title="Permalink to this headline">¶</a></h1>
<div class="section" id="abstraction-with-variables-and-expressions">
<h2>2.2.1. Abstraction with Variables and Expressions<a class="headerlink" href="#abstraction-with-variables-and-expressions" title="Permalink to this headline">¶</a></h2>
<p>The most important concept in programming is <strong>abstraction.</strong>  Creating an
abstraction involves replacing code with a name, which replaces the <em>complexity
of the solution</em> with the <em>meaning of the code.</em>  In this way, a programmer can
deal with a complex problem by combining many small and easy to understand
abstractions.  This process is added by picking names that keep the meaning of
the code intact while hiding the implementation details (complexity), which is
why we will be so particular about the names that we use.</p>
<p>We have seen our first form of abstraction in the form of a variable.  Using
variables allows us to replace values with a name that expresses the meaning of
these values in the context of the problem.  Consider the following calculation.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="nb">int</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="mf">1.55</span><span class="o">*</span><span class="mf">1.065</span><span class="o">*</span><span class="mi">3</span><span class="p">))</span><span class="o">/</span><span class="mi">100</span>
<span class="gh">Out[1]: </span><span class="go">4.95</span>
</pre></div>
</div>
<p>While this expression is easy to understand <em>arithmetically</em>, it lacks any
real-world meaning.  Compare this to the following code, which has applied the
variable abstraction to give the code meaning.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">iced_tea_price</span> <span class="o">=</span> <span class="mf">1.55</span>

<span class="gp">In [3]: </span><span class="n">tax_rate</span> <span class="o">=</span> <span class="mf">1.065</span>

<span class="gp">In [4]: </span><span class="n">number_of_glasses</span> <span class="o">=</span> <span class="mi">3</span>

<span class="gp">In [5]: </span><span class="n">total_cost</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">iced_tea_price</span><span class="o">*</span><span class="n">tax_rate</span><span class="o">*</span><span class="n">number_of_glasses</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">total_cost</span>
<span class="gh">Out[6]: </span><span class="go">4.95</span>
</pre></div>
</div>
<p>Now we see the meaning behind each of the numbers.  Here we have combined the
variable abstraction (represented by the variables <code class="docutils literal"><span class="pre">iced_tea_price</span></code>,
<code class="docutils literal"><span class="pre">tax_rate</span></code>, <code class="docutils literal"><span class="pre">number_of_glasses</span></code> and <code class="docutils literal"><span class="pre">total_cost</span></code>) with the <code class="docutils literal"><span class="pre">round</span></code>
function, which is another form of abstraction.  In particular, the <code class="docutils literal"><span class="pre">round</span></code>
function makes the meaning of the <code class="docutils literal"><span class="pre">int(100*(...))/100</span></code> portion of the
expression much easier to understand by hiding this complexity behind a
meaningful name.</p>
</div>
<div class="section" id="the-generalization-and-the-dry-principle">
<h2>2.2.2. The Generalization and the DRY Principle<a class="headerlink" href="#the-generalization-and-the-dry-principle" title="Permalink to this headline">¶</a></h2>
<p>Abstractions allow us to introduce two other programming important concepts:
<strong>generalization</strong> and <strong>the &#8220;Don&#8217;t Repeat Yourself&#8221; (DRY) principle.</strong>  Code
that has been generalized using abstractions can be used to solve not just one
problem but <strong>many</strong> problems.  An example of the application of generalization
is the use the <code class="docutils literal"><span class="pre">round</span></code> function from the last section.  Not only can we use
this function to round to two decimal places when working with dollars and
cents, it generalizes the process of rounding to any number of decimal places.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span>

<span class="gp">In [8]: </span><span class="nb">round</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="gh">Out[8]: </span><span class="go">3</span>

<span class="gp">In [9]: </span><span class="nb">round</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">          Out[9]: 3.142</span>

<span class="gp">In [10]: </span><span class="nb">round</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">                        Out[10]: 3.1415927</span>
</pre></div>
</div>
<p>Adhering to the DRY principle is a standard approach to writing code that is
correct (e.g. computes the correct values), clean (easy to read) and
maintainable (can be changed or extended).  We will strive to <strong>eliminate all
repeated code</strong> in our programs.  One advantage to this approach is
increased productivity, since we won&#8217;t waste time retyping the same code over and over.
Another, perhaps more important, advantage is that any mistakes that we make
will be isolated to one place in the code.  Functions will be our primary tool
for abstraction, generalization, and the elimination of replicated code.  In
this next section, we will introduce the <code class="docutils literal"><span class="pre">lambda</span></code> expression, which will allow
us to save expressions for later execution, as well as generalize the solution
to a problem.</p>
</div>
<div class="section" id="the-lambda-expression">
<h2>2.2.3. The <cite>lambda</cite> Expression<a class="headerlink" href="#the-lambda-expression" title="Permalink to this headline">¶</a></h2>
<p>While the iced tea example from above illustrated the power of abstraction to
compartmentalize complexity, it was not a general solution to the problem.
Suppose that we want to compute the cost (with tax) of purchasing 2 and 5
glasses of tea.  Currently, we would accomplish this as follows.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">number_of_glasses</span> <span class="o">=</span> <span class="mi">2</span>

<span class="gp">In [12]: </span><span class="n">total_cost</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">iced_tea_price</span><span class="o">*</span><span class="n">tax_rate</span><span class="o">*</span><span class="n">number_of_glasses</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [13]: </span><span class="n">total_cost</span>
<span class="gh">Out[13]: </span><span class="go">3.3</span>

<span class="gp">In [14]: </span><span class="n">number_of_glasses</span> <span class="o">=</span> <span class="mi">5</span>

<span class="gp">In [15]: </span><span class="n">total_cost</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">iced_tea_price</span><span class="o">*</span><span class="n">tax_rate</span><span class="o">*</span><span class="n">number_of_glasses</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [16]: </span><span class="n">total_cost</span>
<span class="gh">Out[16]: </span><span class="go">8.25</span>
</pre></div>
</div>
<p>We have violated the DRY principle by using the
<code class="docutils literal"><span class="pre">round(iced_tea_price*tax_rate*number_of_glasses,</span> <span class="pre">2)</span></code> expression twice!  We
can make a more general solution using the <code class="docutils literal"><span class="pre">lambda</span></code> expression, which allows
us to turn simple expressions into functions.  The syntax for the one variable
<code class="docutils literal"><span class="pre">lambda</span></code> expression is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">PARAMETER</span><span class="p">:</span> <span class="n">BODY_EXPRESSION</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We have specialized language when talking about lambda expressions (and
other functions.)  The variable that the we are generalizing is called the
<strong>formal parameter</strong> and the expression that we mean to evaluate is referred
to as the <strong>body</strong> of the lambda expression.</p>
</div>
<p>Generalizing the application of the tax rate to the cost of an item would be a
useful abstraction, as this function could be applied in many situations.  The
general expression of applying tax is <code class="docutils literal"><span class="pre">tax_rate*cost</span></code>.  We want to be able to
change the value of <code class="docutils literal"><span class="pre">cost</span></code> in our generalization, which is accomplished using a
lambda expression as shown below</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">apply_tax</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">cost</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">tax_rate</span><span class="o">*</span><span class="n">cost</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">apply_tax</span>
<span class="gh">Out[18]: </span><span class="go">&lt;function __main__.&lt;lambda&gt;&gt;</span>
</pre></div>
</div>
<p>Notice that we can save lambda expressions to variables in the same way that we
save any other value.  Simply evaluating the lambda expression does not execute
the encapsulated code, to do this we need to use a new form of syntax.</p>
<p>Once a lambda expression is constructed, it can be <strong>applied</strong> later to a given
value of the variable using the following syntax.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">LAMBDA_EXPRESSION</span><span class="p">(</span><span class="n">ARGUMENT</span><span class="p">)</span>
</pre></div>
</div>
<p>LAMBDA_EXPRESSION can be the literal expression or a variable to which the
expression was saved.  For simple lambda expressions, all instances of PARAMETER
will be replaced with the value of the ARGUMENT, and then evaluate the
BODY_EXPRESSION*.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">*Since lambda expressions are themselves expressions, we can embed lambda
expressions inside lambda expressions.  This will cause problems with the
simple substitution rule that we gave above.  More on this complexity later.</p>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">apply_tax</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">cost</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">tax_rate</span><span class="o">*</span><span class="n">cost</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">total_cost</span> <span class="o">=</span> <span class="n">apply_tax</span><span class="p">(</span><span class="n">iced_tea_price</span><span class="o">*</span><span class="n">number_of_glasses</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="n">total_cost</span>
<span class="gh">Out[21]: </span><span class="go">8.25</span>
</pre></div>
</div>
<p>Hard-coding the tax rate inside <code class="docutils literal"><span class="pre">apply_tax</span></code> makes this a less general solution
to the problem.  We can fix this by adding another parameter to the lambda
expression. To do this, we will need to allow two variables in the body to
change from problem to problem, which can also be accomplished with the lambda
expression by adding additional parameters. The syntax for the more general
lambda expression, with many parameters, is as follows.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="n">PARAMETER_1</span><span class="p">,</span> <span class="o">...</span> <span class="p">,</span> <span class="n">PARAMETER_K</span><span class="p">:</span> <span class="n">BODY_EXPRESSION</span>
</pre></div>
</div>
<p>We can apply this more general expression using a similar application syntax.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">LAMBDA_EXPRESSION</span><span class="p">(</span><span class="n">ARGUMENT_1</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">ARGUMENT_K</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the number of arguments needs to match the number of arguments</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="nb">pow</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="n">y</span>

<span class="gp">In [23]: </span><span class="nb">pow</span>
<span class="gh">Out[23]: </span><span class="go">&lt;function __main__.&lt;lambda&gt;&gt;</span>

<span class="gp">In [24]: </span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">                                      Out[24]: 8</span>

<span class="gp">In [25]: </span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">                                                 ---------------------------------------------------------------------------</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-25-f547158b80b1&gt; in &lt;module&gt;()</span>
<span class="go">----&gt; 1 pow(2)</span>

<span class="go">TypeError: &lt;lambda&gt;() missing 1 required positional argument: &#39;y&#39;</span>

<span class="gp">In [26]: </span><span class="nb">pow</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ---------------------------------------------------------------------------</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-26-919f0291c481&gt; in &lt;module&gt;()</span>
<span class="go">----&gt; 1 pow(1,2,3)</span>

<span class="go">TypeError: &lt;lambda&gt;() takes 2 positional arguments but 3 were given</span>
</pre></div>
</div>
<p>Returning to the iced tea example, we now make a more general version of
<code class="docutils literal"><span class="pre">apply_tax</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">apply_tax</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">cost</span><span class="p">,</span> <span class="n">tax</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">tax</span><span class="o">*</span><span class="n">cost</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="gp">In [28]: </span><span class="n">pre_tax_cost</span> <span class="o">=</span> <span class="n">iced_tea_price</span><span class="o">*</span><span class="n">number_of_glasses</span>

<span class="gp">In [29]: </span><span class="n">total_cost</span> <span class="o">=</span> <span class="n">apply_tax</span><span class="p">(</span><span class="n">pre_tax_cost</span><span class="p">,</span> <span class="n">tax_rate</span><span class="p">)</span>

<span class="gp">In [30]: </span><span class="n">total_cost</span>
<span class="gh">Out[30]: </span><span class="go">8.25</span>
</pre></div>
</div>
<p>To continue the generalization process, we construct a lambda expression for
computing the (pre_tax) cost of any number of glasses of tea and use it to
compute the cost for 3, 2, and 5 glasses of tea.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">pre_tax_cost</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">num_glasses</span><span class="p">:</span> <span class="n">iced_tea_price</span><span class="o">*</span><span class="n">num_glasses</span>

<span class="gp">In [32]: </span><span class="n">apply_tax</span><span class="p">(</span><span class="n">pre_tax_cost</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">tax_rate</span><span class="p">)</span>
<span class="gh">Out[32]: </span><span class="go">4.95</span>

<span class="gp">In [33]: </span><span class="n">apply_tax</span><span class="p">(</span><span class="n">pre_tax_cost</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">tax_rate</span><span class="p">)</span>
<span class="go">              Out[33]: 3.3</span>

<span class="gp">In [34]: </span><span class="n">apply_tax</span><span class="p">(</span><span class="n">pre_tax_cost</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">tax_rate</span><span class="p">)</span>
<span class="go">                           Out[34]: 8.25</span>
</pre></div>
</div>
<div class="admonition-question admonition">
<p class="first admonition-title">Question</p>
<p class="last">Do you see where we have violated the DRY principle?  How might we fix this
problem?</p>
</div>
<p>Finally, we will eliminated the repeated code and hide the complexity of the
computation of the total cost in another lambda expression.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [35]: </span><span class="n">total_cost</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">num_glasses</span><span class="p">:</span> <span class="n">apply_tax</span><span class="p">(</span><span class="n">pre_tax_cost</span><span class="p">(</span><span class="n">num_glasses</span><span class="p">),</span> <span class="n">tax_rate</span><span class="p">)</span>

<span class="gp">In [36]: </span><span class="n">total_cost</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gh">Out[36]: </span><span class="go">4.95</span>

<span class="gp">In [37]: </span><span class="n">total_cost</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">              Out[37]: 3.3</span>

<span class="gp">In [38]: </span><span class="n">total_cost</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">                           Out[38]: 8.25</span>
</pre></div>
</div>
<p>To better understand the evaluation of this code, use codelens to step through
the evaluation step-by-step.</p>

<div class="alert alert-warning cd_section">
<div id="ch06_lambdacodelens"></div>
<p class="cl_caption"><span class="cl_caption_text"> (ch06_lambdacodelens)</span> </p>
</div>
<script type="text/javascript">
var ch06_lambdacodelens_trace = {"code": "iced_tea_price = 1.55\ntax_rate = 1.065\napply_tax = lambda cost, tax: round(tax*cost, 2)\npre_tax_cost = lambda num_glasses: iced_tea_price*num_glasses\ntotal_cost = lambda num_glasses: apply_tax(pre_tax_cost(num_glasses), tax_rate)\ntotal_cost(3)", "trace": [{"line": 1, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {}, "event": "step_line", "heap": {}, "ordered_globals": []}, {"line": 2, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"iced_tea_price": 1.55}, "event": "step_line", "heap": {}, "ordered_globals": ["iced_tea_price"]}, {"line": 3, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "step_line", "heap": {}, "ordered_globals": ["iced_tea_price", "tax_rate"]}, {"line": 4, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"apply_tax": ["REF", 1], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax"]}, {"line": 5, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"pre_tax_cost": ["REF", 2], "apply_tax": ["REF", 1], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost"]}, {"line": 6, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 5, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"num_glasses": 3}, "is_highlighted": true, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "call", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 5, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"num_glasses": 3}, "is_highlighted": true, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 4, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"num_glasses": 3}, "is_highlighted": false, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}, {"encoded_locals": {"num_glasses": 3}, "is_highlighted": true, "unique_hash": "<lambda> <line 4>_f2", "func_name": "<lambda> <line 4>", "is_zombie": false, "frame_id": 2, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "call", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 4, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"num_glasses": 3}, "is_highlighted": false, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}, {"encoded_locals": {"num_glasses": 3}, "is_highlighted": true, "unique_hash": "<lambda> <line 4>_f2", "func_name": "<lambda> <line 4>", "is_zombie": false, "frame_id": 2, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 4, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"num_glasses": 3}, "is_highlighted": false, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}, {"encoded_locals": {"__return__": 4.65, "num_glasses": 3}, "is_highlighted": true, "unique_hash": "<lambda> <line 4>_f2", "func_name": "<lambda> <line 4>", "is_zombie": false, "frame_id": 2, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses", "__return__"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "return", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 3, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"num_glasses": 3}, "is_highlighted": false, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}, {"encoded_locals": {"tax": 1.065, "cost": 4.65}, "is_highlighted": true, "unique_hash": "<lambda> <line 3>_f3", "func_name": "<lambda> <line 3>", "is_zombie": false, "frame_id": 3, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["cost", "tax"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "call", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 3, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"num_glasses": 3}, "is_highlighted": false, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}, {"encoded_locals": {"tax": 1.065, "cost": 4.65}, "is_highlighted": true, "unique_hash": "<lambda> <line 3>_f3", "func_name": "<lambda> <line 3>", "is_zombie": false, "frame_id": 3, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["cost", "tax"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 3, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"num_glasses": 3}, "is_highlighted": false, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses"]}, {"encoded_locals": {"__return__": 4.95, "tax": 1.065, "cost": 4.65}, "is_highlighted": true, "unique_hash": "<lambda> <line 3>_f3", "func_name": "<lambda> <line 3>", "is_zombie": false, "frame_id": 3, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["cost", "tax", "__return__"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "return", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 5, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"__return__": 4.95, "num_glasses": 3}, "is_highlighted": true, "unique_hash": "<lambda> <line 5>_f1", "func_name": "<lambda> <line 5>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["num_glasses", "__return__"]}], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "return", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}, {"line": 6, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"total_cost": ["REF", 3], "apply_tax": ["REF", 1], "pre_tax_cost": ["REF", 2], "tax_rate": 1.065, "iced_tea_price": 1.55}, "event": "return", "heap": {"1": ["FUNCTION", "<lambda>(cost, tax) <line 3>", null], "2": ["FUNCTION", "<lambda>(num_glasses) <line 4>", null], "3": ["FUNCTION", "<lambda>(num_glasses) <line 5>", null]}, "ordered_globals": ["iced_tea_price", "tax_rate", "apply_tax", "pre_tax_cost", "total_cost"]}]};
var ch06_lambdacodelens_vis;

$(document).ready(function() {
    try {
        ch06_lambdacodelens_vis = new ExecutionVisualizer('ch06_lambdacodelens',ch06_lambdacodelens_trace,
                                    {embeddedMode: false,
                                    verticalStack: false,
                                    heightChangeCallback: redrawAllVisualizerArrows,
                                    codeDivWidth: 500,
                                    lang : 'py3'
                                    });
        attachLoggers(ch06_lambdacodelens_vis,'ch06_lambdacodelens');
        styleButtons('ch06_lambdacodelens');
        allVisualizers.push(ch06_lambdacodelens_vis);
    } catch (e) {
        console.log("Failed to Initialize CodeLens component ch06_lambdacodelens_vis" );
        console.log(e.toString());
    }

});

$(document).ready(function() {
    $("#ch06_lambdacodelens_tracecheck").click(function() {
        logBookEvent({'event':'codelens', 'act': 'check', 'div_id':'ch06_lambdacodelens'});
    });
});

if (allVisualizers === undefined) {
   var allVisualizers = [];
}


$(window).resize(function() {
    if (ch06_lambdacodelens_vis) {
        ch06_lambdacodelens_vis.redrawConnectors();
    }
});
</script>
<p>This example includes many of the ideas that we will explore in a later chapter
on functional programming, including</p>
<ol class="arabic simple">
<li><strong>Abstracting constants with global variables.</strong>  In this case, the values of
<code class="docutils literal"><span class="pre">iced_tea_price</span></code> and <code class="docutils literal"><span class="pre">tax_rate</span></code> have been assigned to variables that are
used by other functions and expressions.  Doing this at the top of our code
allows us to easily change these constants at a later date.</li>
<li><strong>Abstracting expressions using functions by pulling out variables as formal
parameters.</strong>  We can think of these parameters as &#8220;holes&#8221; in our program that
can be filled in later.</li>
<li><strong>Composing small functions to solve more complicated problems.</strong>  Notice that
<code class="docutils literal"><span class="pre">total_cost</span></code> is an example of function composition, as <code class="docutils literal"><span class="pre">apply_tax</span></code> is
applied to the result of <code class="docutils literal"><span class="pre">pre_tax_cost</span></code>.</li>
</ol>
</div>
<div class="section" id="boolean-functions">
<h2>2.2.4. Boolean Functions<a class="headerlink" href="#boolean-functions" title="Permalink to this headline">¶</a></h2>
<p>We have already seen that boolean values result from the evaluation of boolean
expressions.  Since the result of any expression evaluation can be returned by a
lambda expression, lambda expressions can return boolean values.  This turns out
to be a very convenient way to hide the details of complicated tests. For
example:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [39]: </span><span class="n">isDivisible</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="bp">False</span>

<span class="gp">In [40]: </span><span class="n">isDivisible</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gh">Out[40]: </span><span class="go">True</span>
</pre></div>
</div>
<p>The name of this function is <code class="docutils literal"><span class="pre">isDivisible</span></code>. It is common to give <strong>boolean
functions</strong> names that sound like yes/no questions.  <code class="docutils literal"><span class="pre">isDivisible</span></code> returns
either <code class="docutils literal"><span class="pre">True</span></code> or <code class="docutils literal"><span class="pre">False</span></code> to indicate whether the <code class="docutils literal"><span class="pre">x</span></code> is or is not
divisible by <code class="docutils literal"><span class="pre">y</span></code>.</p>
<p>We can make the lambda expression more concise by taking advantage of the fact
that the condition of the <code class="docutils literal"><span class="pre">if</span></code> expression is itself a boolean expression. We
can return it directly, avoiding the <code class="docutils literal"><span class="pre">if</span></code> statement altogether:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [41]: </span><span class="n">isDivisible</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span>

<span class="gp">In [42]: </span><span class="n">isDivisible</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gh">Out[42]: </span><span class="go">True</span>
</pre></div>
</div>
<p>Boolean functions are often used in conditional statements:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">EXPR_1</span> <span class="k">if</span> <span class="n">isDivisible</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">else</span> <span class="n">EXPR_2</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It might be tempting to write something like <code class="docutils literal"><span class="pre">isDivisible(x,</span> <span class="pre">y)</span> <span class="pre">==</span> <span class="pre">True</span></code> as
the condition of the if expression, but the extra comparison is not necessary.</p>
</div>
<p>The following example shows the <code class="docutils literal"><span class="pre">isDivisible</span></code> function at work.  Notice how
descriptive the code is when we move the testing details into a boolean
function, which is a direct result of using an abstraction.  Try it with a few
other actual parameters to see what is printed.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [43]: </span><span class="n">isDivisible</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span>

<span class="gp">In [44]: </span><span class="s2">&quot;That works&quot;</span> <span class="k">if</span> <span class="n">isDivisible</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;Those values are no good&quot;</span>
<span class="gh">Out[44]: </span><span class="go">&#39;That works&#39;</span>
</pre></div>
</div>
<p>Here is the same program in codelens.  When we evaluate the <code class="docutils literal"><span class="pre">if</span></code> statement in
the main part of the program, the evaluation of the boolean expression causes a
call to the <code class="docutils literal"><span class="pre">isDivisible</span></code> function.  This is very easy to see in codelens.</p>

<div class="alert alert-warning cd_section">
<div id="ch06_boolcodelens"></div>
<p class="cl_caption"><span class="cl_caption_text"> (ch06_boolcodelens)</span> </p>
</div>
<script type="text/javascript">
var ch06_boolcodelens_trace = {"code": "isDivisible = lambda x, y: True if x % y == 0 else False\n\noutcome = \"That works\" if isDivisible(10, 5) else \"Those values are no good\"\noutcome", "trace": [{"line": 1, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {}, "event": "step_line", "heap": {}, "ordered_globals": []}, {"line": 3, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"isDivisible": ["REF", 1]}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(x, y) <line 1>", null]}, "ordered_globals": ["isDivisible"]}, {"line": 1, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"y": 5, "x": 10}, "is_highlighted": true, "unique_hash": "<lambda> <line 1>_f1", "func_name": "<lambda> <line 1>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["x", "y"]}], "globals": {"isDivisible": ["REF", 1]}, "event": "call", "heap": {"1": ["FUNCTION", "<lambda>(x, y) <line 1>", null]}, "ordered_globals": ["isDivisible"]}, {"line": 1, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"y": 5, "x": 10}, "is_highlighted": true, "unique_hash": "<lambda> <line 1>_f1", "func_name": "<lambda> <line 1>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["x", "y"]}], "globals": {"isDivisible": ["REF", 1]}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(x, y) <line 1>", null]}, "ordered_globals": ["isDivisible"]}, {"line": 1, "stdout": "", "func_name": "<lambda>", "stack_to_render": [{"encoded_locals": {"y": 5, "x": 10, "__return__": true}, "is_highlighted": true, "unique_hash": "<lambda> <line 1>_f1", "func_name": "<lambda> <line 1>", "is_zombie": false, "frame_id": 1, "parent_frame_id_list": [], "is_parent": false, "ordered_varnames": ["x", "y", "__return__"]}], "globals": {"isDivisible": ["REF", 1]}, "event": "return", "heap": {"1": ["FUNCTION", "<lambda>(x, y) <line 1>", null]}, "ordered_globals": ["isDivisible"]}, {"line": 4, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"outcome": "That works", "isDivisible": ["REF", 1]}, "event": "step_line", "heap": {"1": ["FUNCTION", "<lambda>(x, y) <line 1>", null]}, "ordered_globals": ["isDivisible", "outcome"]}, {"line": 4, "stdout": "", "func_name": "<module>", "stack_to_render": [], "globals": {"outcome": "That works", "isDivisible": ["REF", 1]}, "event": "return", "heap": {"1": ["FUNCTION", "<lambda>(x, y) <line 1>", null]}, "ordered_globals": ["isDivisible", "outcome"]}]};
var ch06_boolcodelens_vis;

$(document).ready(function() {
    try {
        ch06_boolcodelens_vis = new ExecutionVisualizer('ch06_boolcodelens',ch06_boolcodelens_trace,
                                    {embeddedMode: false,
                                    verticalStack: false,
                                    heightChangeCallback: redrawAllVisualizerArrows,
                                    codeDivWidth: 500,
                                    lang : 'py3'
                                    });
        attachLoggers(ch06_boolcodelens_vis,'ch06_boolcodelens');
        styleButtons('ch06_boolcodelens');
        allVisualizers.push(ch06_boolcodelens_vis);
    } catch (e) {
        console.log("Failed to Initialize CodeLens component ch06_boolcodelens_vis" );
        console.log(e.toString());
    }

});

$(document).ready(function() {
    $("#ch06_boolcodelens_tracecheck").click(function() {
        logBookEvent({'event':'codelens', 'act': 'check', 'div_id':'ch06_boolcodelens'});
    });
});

if (allVisualizers === undefined) {
   var allVisualizers = [];
}


$(window).resize(function() {
    if (ch06_boolcodelens_vis) {
        ch06_boolcodelens_vis.redrawConnectors();
    }
});
</script>
<p><strong>Check your understanding</strong></p>

            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question6_8_1">
            data-2-13: What is a Boolean function?
            <li data-component="answer" data-correct id="test_question6_8_1_opt_a">(A) A function that returns True or False</li><li data-component="feedback" id="test_question6_8_1_opt_a">A Boolean function is just like any other function, but it always returns True or False.</li>
            
            <li data-component="answer"  id="test_question6_8_1_opt_b">(B) A function that takes True or False as an argument</li><li data-component="feedback" id="test_question6_8_1_opt_b">A Boolean function may take any number of arguments (including 0, though that is rare), of any type.</li>
            
            <li data-component="answer"  id="test_question6_8_1_opt_c">(C) The same as a Boolean expression</li><li data-component="feedback" id="test_question6_8_1_opt_c">A Boolean expression is a statement that evaluates to True or False, e.g. 5+3==8.  A function is a series of expressions grouped together with a name that are only executed when you call the function.</li>
            

            </ul>
            
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question6_8_2">
            <p>data-2-14: Is the following statement legal in Python (assuming x, y and z are defined to be numbers)?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">z</span>
</pre></div>
</div>

            <li data-component="answer" data-correct id="test_question6_8_2_opt_a">(A) Yes</li><li data-component="feedback" id="test_question6_8_2_opt_a">It is perfectly valid to return the result of evaluating a Boolean expression.</li>
            
            <li data-component="answer"  id="test_question6_8_2_opt_b">(B) No</li><li data-component="feedback" id="test_question6_8_2_opt_b">x +y < z is a valid Boolean expression, which will evaluate to True or False.  It is perfectly legal to return True or False from a function, and to have the statement to be evaluated in the same line as the return keyword.</li>
            

            </ul>
            <div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This workspace is provided for your convenience.  You can use this activecode window to try out anything you like.</p>

<textarea data-component="activecode" id=scratch_06_03 data-lang="python"    data-timelimit=25000  data-codelens="true" data-audio=''     >


</textarea>
</div>
</div>
<div class="section" id="aside-lambda-calculus-and-the-power-of-the-lambda-expression">
<h2>2.2.5. Aside: Lambda Calculus and the Power of the Lambda Expression<a class="headerlink" href="#aside-lambda-calculus-and-the-power-of-the-lambda-expression" title="Permalink to this headline">¶</a></h2>
<p>While the expressions that we have introduced so far may seem like a very small
subset of a programming language like Python, it turns out that they are very
powerful. <a class="reference external" href="https://en.wikipedia.org/wiki/Alonzo_Church">Alonzo Church</a>
developed the lambda calculus in 1930 as a general method of describing
computation.  The lambda calculus consists of three basic building blocks.</p>
<ol class="arabic simple">
<li><strong>variables</strong></li>
<li><strong>lambda expressions/abstractions</strong></li>
<li><strong>an application rule for lambda expressions</strong></li>
</ol>
<p>It has been shown that this system is <strong>Turing complete</strong>, meaning that it can
be used to describe <strong>every</strong> possible computation that can be performed on a
computer.  Thus we <em>could</em> simply write all of our programs with the tools
presented so far ... but we won&#8217;t! Programs written in this style are
unnecessarily complicated without introducing many of the abstractions that are
already provided by Python.  For more information about the lambda calculus,
visit <a class="reference external" href="https://en.wikipedia.org/wiki/Lambda_calculus#History">the Wikipedia page</a>.</p>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 2.1. Transforming Simple Data with Expressions' data-toggle="tooltip">
    <a href="TransformingSimpleDataWithExpressions.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="TransformingSimpleDataWithExpressions.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 2.3. Expressions, Values and Evaluation' data-toggle="tooltip" >
    <a href="ExpressionsValuesAndEvaluation.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="ExpressionsValuesAndEvaluation.html" >Next Section - 2.3. Expressions, Values and Evaluation</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 Todd Iverson.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>