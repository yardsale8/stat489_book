<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>6.1. Dictionaries &mdash; Runestone Interactive Overview</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/livecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/2.3.1/""/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/livecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="top" title="Runestone Interactive Overview" href="../index.html" />
    <link rel="up" title="6. Associative Data Structures - Dictionaries and Sets" href="toctree.html" />
    <link rel="next" title="6.2. Sets" href="Sets.html" />
    <link rel="prev" title="6. Associative Data Structures - Dictionaries and Sets" href="toctree.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'STAT489';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'STAT489';
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="../index.html">STAT489</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/STAT489/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/STAT489/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=STAT489&page=Dictionaries'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">6.1. Dictionaries</a><ul>
<li><a class="reference internal" href="#mapping-one-value-to-another-with-dictionaries">6.1.1. Mapping One Value to Another with Dictionaries</a></li>
<li><a class="reference internal" href="#dictionary-keys-must-be-immutable">6.1.2. Dictionary Keys Must Be Immutable</a></li>
<li><a class="reference internal" href="#assoc-and-disoc">6.1.3. <code class="docutils literal"><span class="pre">assoc</span></code> and <code class="docutils literal"><span class="pre">disoc</span></code></a></li>
<li><a class="reference internal" href="#dictionary-methods">6.1.4. Dictionary Methods</a></li>
<li><a class="reference internal" href="#immutable-and-persistent-dictionaries">6.1.5. Immutable and Persistent Dictionaries</a></li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 6. Associative Data Structures - Dictionaries and Sets" data-toggle="tooltip">
    <a href="toctree.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 6.2. Sets' data-toggle="tooltip" >
    <a href="Sets.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="dictionaries">
<h1>6.1. Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">¶</a></h1>
<p>All of the compound data types we have studied in detail so far &#8212; strings,
lists, and tuples &#8212; are sequential collections.  This means that the items in
the collection are ordered from left to right and they use integers as indices
to access the values they contain.</p>
<p><strong>Dictionaries</strong> and <strong>Sets</strong> are Python&#8217;s two built-in associative data types.
The dictionary associates one value with another, whereas the set associates a
value with membership in some collection or group.  In this chapter, we will
introduce these two data structures and discuss their application in data
wrangling and analysis.</p>
<div class="section" id="mapping-one-value-to-another-with-dictionaries">
<h2>6.1.1. Mapping One Value to Another with Dictionaries<a class="headerlink" href="#mapping-one-value-to-another-with-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>The dictionary is a <strong>mapping type</strong>.  A map is an unordered, associative
collection.  The association, or mapping, is from a <strong>key</strong>, which can be any
immutable type, to a <strong>value</strong>, which can be any Python data object.  As an
example, we will create a dictionary to translate English words into Spanish.
For this dictionary, the keys are strings and the values will also be strings.</p>
<p>We can create a dictionary by providing a list of key-value pairs separated by
<code class="docutils literal"><span class="pre">:</span></code> between the keys and values and <code class="docutils literal"><span class="pre">,</span></code> between each pair.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">eng2sp</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;three&#39;</span><span class="p">:</span> <span class="s1">&#39;tres&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">:</span> <span class="s1">&#39;uno&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">:</span> <span class="s1">&#39;dos&#39;</span><span class="p">}</span>

<span class="gp">In [2]: </span><span class="n">eng2sp</span>
<span class="gh">Out[2]: </span><span class="go">{&#39;one&#39;: &#39;uno&#39;, &#39;three&#39;: &#39;tres&#39;, &#39;two&#39;: &#39;dos&#39;}</span>
</pre></div>
</div>
<p>It doesn&#8217;t matter what order we write the pairs. The values in a dictionary are
accessed with keys, not with indices, so there is no need to care about
ordering.</p>
<p>Here is how we use a key to look up the corresponding value.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">eng2sp</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;three&#39;</span><span class="p">:</span> <span class="s1">&#39;tres&#39;</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">:</span> <span class="s1">&#39;uno&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">:</span> <span class="s1">&#39;dos&#39;</span><span class="p">}</span>

<span class="gp">In [4]: </span><span class="n">eng2sp</span><span class="p">[</span><span class="s1">&#39;two&#39;</span><span class="p">]</span>
<span class="gh">Out[4]: </span><span class="go">&#39;dos&#39;</span>
</pre></div>
</div>
<p>The key <code class="docutils literal"><span class="pre">'two'</span></code> yields the value <code class="docutils literal"><span class="pre">'dos'</span></code>.</p>
<p>You may recall that we introduced <code class="docutils literal"><span class="pre">get</span></code> function from the <code class="docutils literal"><span class="pre">toolz</span></code> module in
the chapter on sequences.  A functional alternative to using the <code class="docutils literal"><span class="pre">get</span></code>
operator (<code class="docutils literal"><span class="pre">name[key]</span></code>) is applying the same <code class="docutils literal"><span class="pre">get</span></code> function to a dictionary.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="kn">from</span> <span class="nn">toolz</span> <span class="kn">import</span> <span class="n">get</span>

<span class="gp">In [6]: </span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="n">eng2sp</span><span class="p">)</span>
<span class="gh">Out[6]: </span><span class="go">&#39;dos&#39;</span>
</pre></div>
</div>
<p>Using the <code class="docutils literal"><span class="pre">get</span></code> function has a couple of advantages.  First, we can use a
common API for getting values from both sequences and lists.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="gp">In [8]: </span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">L</span><span class="p">)</span>
<span class="gh">Out[8]: </span><span class="go">2</span>

<span class="gp">In [9]: </span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s2">&quot;b&quot;</span><span class="p">}</span>

<span class="gp">In [10]: </span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
<span class="gh">Out[10]: </span><span class="go">&#39;a&#39;</span>
</pre></div>
</div>
<p>Second, <code class="docutils literal"><span class="pre">get</span></code> allows us to get the values for a number of keys simultaneously.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">get</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">L</span><span class="p">)</span>
<span class="gh">Out[11]: </span><span class="go">(3, 2)</span>

<span class="gp">In [12]: </span><span class="n">get</span><span class="p">([</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">],</span> <span class="n">eng2sp</span><span class="p">)</span>
<span class="go">                Out[12]: (&#39;uno&#39;, &#39;dos&#39;)</span>
</pre></div>
</div>
<p>Finally, we can assign an optional default value for keys that are not in the
dictionary.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">get</span><span class="p">([</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;four&#39;</span><span class="p">],</span> <span class="n">eng2sp</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="gh">Out[13]: </span><span class="go">(&#39;uno&#39;, &#39;dos&#39;, None)</span>
</pre></div>
</div>
<p>This flexibility makes <code class="docutils literal"><span class="pre">get</span></code> our go-to method for accessing data from a
dictionary.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This workspace is provided for your convenience.  You can use this activecode window to try out anything you like.</p>

<textarea data-component="activecode" id=scratch_11_01 data-lang="python"    data-timelimit=25000  data-codelens="true" data-audio=''     >


</textarea>
</div>
<p><strong>Check your understanding</strong></p>

            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question11_1_1">
            rec-5-99: A dictionary is an unordered collection of key-value pairs.
            <li data-component="answer"  id="test_question11_1_1_opt_a">(A) False</li><li data-component="feedback" id="test_question11_1_1_opt_a">Dictionaries associate keys with values but there is no assumed order for the entries.</li>
            
            <li data-component="answer" data-correct id="test_question11_1_1_opt_b">(B) True</li><li data-component="feedback" id="test_question11_1_1_opt_b">Yes, dictionaries are associative collections meaning that they store key-value pairs.</li>
            

            </ul>
            
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question11_1_2">
            <p>rec-5-100: what is printed by the following statements?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">toolz</span> <span class="kn">import</span> <span class="n">get</span>
<span class="n">mydict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cat&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;elephant&quot;</span><span class="p">:</span><span class="mi">23</span><span class="p">}</span>
<span class="k">print</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span><span class="n">mydict</span><span class="p">))</span>
</pre></div>
</div>

            <li data-component="answer"  id="test_question11_1_2_opt_a">(A) 12</li><li data-component="feedback" id="test_question11_1_2_opt_a">12 is associated with the key cat.</li>
            
            <li data-component="answer" data-correct id="test_question11_1_2_opt_b">(B) 6</li><li data-component="feedback" id="test_question11_1_2_opt_b">yes, 6 is associated with the key dog.</li>
            
            <li data-component="answer"  id="test_question11_1_2_opt_c">(C) 23</li><li data-component="feedback" id="test_question11_1_2_opt_c">23 is associated with the key elephant.</li>
            
            <li data-component="answer"  id="test_question11_1_2_opt_d">(D) error, you cannot use the index operator with a dictionary.</li><li data-component="feedback" id="test_question11_1_2_opt_d">the [ ] operator, when used with a dictionary, will look up a value based on its key.</li>
            

            </ul>
            </div>
<div class="section" id="dictionary-keys-must-be-immutable">
<h2>6.1.2. Dictionary Keys Must Be Immutable<a class="headerlink" href="#dictionary-keys-must-be-immutable" title="Permalink to this headline">¶</a></h2>
<p>The dictionary uses the built-in function <code class="docutils literal"><span class="pre">hash</span></code> to quickly look-up the value
for a given key (discussed in detail in <span class="xref std std-ref">_dict_complexity</span>).  A requirement
of this process is that all keys be unique.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="nb">hash</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gh">Out[14]: </span><span class="go">-8521829294184052173</span>

<span class="gp">In [15]: </span><span class="nb">hash</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">                              Out[15]: 1</span>

<span class="gp">In [16]: </span><span class="nb">hash</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
<span class="go">                                         Out[16]: 1152921504606846978</span>

<span class="gp">In [17]: </span><span class="nb">hash</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">                                                                      Out[17]: 3713081631934410656</span>
</pre></div>
</div>
<p>If we allowed mutable object to be keys, how would we handle changes that
confuse the <code class="docutils literal"><span class="pre">hash</span></code> function?  For example, if <code class="docutils literal"><span class="pre">[1]</span></code> was a key and this value
was mutated by appending another value, say <code class="docutils literal"><span class="pre">2</span></code>, the new list <code class="docutils literal"><span class="pre">[1,</span> <span class="pre">2]</span></code> would
have a different hash value.  This could lead to the value being lost or two
values in the dictionary having the same hash.  Consequently, mutable items are
not hashable, meaning that <code class="docutils literal"><span class="pre">hash</span></code> will throw an exception when given a mutable
object.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="nb">hash</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-18-ead01a573561&gt;</span> in <span class="ni">&lt;module&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">hash</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="ne">TypeError</span>: unhashable type: &#39;list&#39;

<span class="gp">In [19]: </span><span class="nb">hash</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span><span class="s1">&#39;z&#39;</span><span class="p">})</span>
<span class="go">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ---------------------------------------------------------------------------</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-19-11a6980f1fd6&gt; in &lt;module&gt;()</span>
<span class="go">----&gt; 1 hash({1:&#39;z&#39;})</span>

<span class="go">TypeError: unhashable type: &#39;dict&#39;</span>
</pre></div>
</div>
<p>For this reason, all keys in a dictionary much be <em>immutable object</em>.  Examples
of eligible values are strings, number or tuples.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s1">&#39;int&#39;</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">:</span><span class="s1">&#39;float&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">:</span><span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span><span class="s1">&#39;tuple&#39;</span><span class="p">}</span>

<span class="gp">In [21]: </span><span class="n">d</span>
<span class="gh">Out[21]: </span><span class="go">{(1, 2): &#39;tuple&#39;, 1: &#39;int&#39;, 2.5: &#39;float&#39;, &#39;s&#39;: &#39;string&#39;}</span>
</pre></div>
</div>
<p>Mutable objects, like lists and dictionaries, cannot be dictionary keys.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="kn">from</span> <span class="nn">toolz</span> <span class="kn">import</span> <span class="n">assoc</span>

<span class="gp">In [23]: </span><span class="n">assoc</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-23-4cf2bde721f7&gt;</span> in <span class="ni">&lt;module&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">assoc</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;list&#39;</span><span class="p">)</span>

<span class="nn">/Users/bn8210wy/.pyenv/versions/3.5.2/envs/runestone/lib/python3.5/site-packages/toolz/dicttoolz.py</span> in <span class="ni">assoc</span><span class="nt">(d, key, value, factory)</span>
<span class="g g-Whitespace">    </span><span class="mi">193</span>     <span class="s2">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">194</span><span class="s2">     d2 = factory()</span>
<span class="ne">--&gt; </span><span class="mi">195</span><span class="s2">     d2[key] = value</span>
<span class="g g-Whitespace">    </span><span class="mi">196</span><span class="s2">     return merge(d, d2, factory=factory)</span>
<span class="g g-Whitespace">    </span><span class="mi">197</span><span class="s2"> </span>

<span class="ne">TypeError</span>: unhashable type: &#39;list&#39;

<span class="gp">In [24]: </span><span class="n">assoc</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">},</span> <span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="go">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ---------------------------------------------------------------------------</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-24-c797888df932&gt; in &lt;module&gt;()</span>
<span class="go">----&gt; 1 assoc(d, {&#39;a&#39;:5}, &#39;list&#39;)</span>

<span class="go">/Users/bn8210wy/.pyenv/versions/3.5.2/envs/runestone/lib/python3.5/site-packages/toolz/dicttoolz.py in assoc(d, key, value, factory)</span>
<span class="go">    193     &quot;&quot;&quot;</span>
<span class="go">    194     d2 = factory()</span>
<span class="go">--&gt; 195     d2[key] = value</span>
<span class="go">    196     return merge(d, d2, factory=factory)</span>
<span class="go">    197 </span>

<span class="go">TypeError: unhashable type: &#39;dict&#39;</span>
</pre></div>
</div>
<p>Note that the error message is pointing out that a list and dictionary are not
hashable (can&#8217;t be converted to a number using <code class="docutils literal"><span class="pre">hash</span></code>).  This is due to the
fact that they are both mutable.</p>
<p><strong>Check your understanding</strong></p>

            <ul data-component="multiplechoice" data-multipleanswers="false"  id="immutable_keys_1">
            rec-5-101: Which of the following calls to assoc WILL NOT cause an exception?
            <li data-component="answer" data-correct id="immutable_keys_1_opt_a">(A) assoc({}, (1, 2), 0)</li><li data-component="feedback" id="immutable_keys_1_opt_a">Tuples are immutable and work as dictionary keys.</li>
            
            <li data-component="answer"  id="immutable_keys_1_opt_b">(B) assoc({}, [1, 2], 0)</li><li data-component="feedback" id="immutable_keys_1_opt_b">Lists are mutable and cannot be used as a dictionary key.  This call will cause an exception.</li>
            
            <li data-component="answer"  id="immutable_keys_1_opt_c">(C) assoc({}, {1:"one"}, 0)</li><li data-component="feedback" id="immutable_keys_1_opt_c">Dictionaries are mutable and cannot be used as a dictionary key.  This line will cause an exception.</li>
            

            </ul>
            </div>
<div class="section" id="assoc-and-disoc">
<h2>6.1.3. <code class="docutils literal"><span class="pre">assoc</span></code> and <code class="docutils literal"><span class="pre">disoc</span></code><a class="headerlink" href="#assoc-and-disoc" title="Permalink to this headline">¶</a></h2>
<p>Dictionaries are mutable. As mentioned earlier, the functional style of
programming involves returning new copies of a data structure instead of
mutating a data structure in place.  The easiest way to accomplish this is using
two functions from the <code class="docutils literal"><span class="pre">toolz.dicttoolz</span></code> module, namely <code class="docutils literal"><span class="pre">assoc</span></code> and
<code class="docutils literal"><span class="pre">dissoc</span></code>.</p>
<p>The function <code class="docutils literal"><span class="pre">assoc</span></code> is used to <em>associate</em> a value with a key, which can be a
new key or updating the value of an existing key.  In the next example, we will
update the value <em>associated</em> with <code class="docutils literal"><span class="pre">'pears'</span></code> and <code class="docutils literal"><span class="pre">'peaches'</span></code> to 0.
We verify that the dictionary that is returned is not the same as the old
dictionary.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [25]: </span><span class="kn">from</span> <span class="nn">toolz.dicttoolz</span> <span class="kn">import</span> <span class="n">assoc</span><span class="p">,</span> <span class="n">dissoc</span>

<span class="gp">In [26]: </span><span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apples&#39;</span><span class="p">:</span> <span class="mi">430</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">:</span> <span class="mi">312</span><span class="p">,</span> <span class="s1">&#39;oranges&#39;</span><span class="p">:</span> <span class="mi">525</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">:</span> <span class="mi">217</span><span class="p">}</span>

<span class="gp">In [27]: </span><span class="n">new_inventory</span> <span class="o">=</span> <span class="n">assoc</span><span class="p">(</span><span class="n">inventory</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="gp">In [28]: </span><span class="n">new_inventory</span> <span class="o">=</span> <span class="n">assoc</span><span class="p">(</span><span class="n">new_inventory</span><span class="p">,</span> <span class="s1">&#39;peaches&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="gp">In [29]: </span><span class="n">new_inventory</span>
<span class="gh">Out[29]: </span><span class="go">{&#39;apples&#39;: 430, &#39;bananas&#39;: 312, &#39;oranges&#39;: 525, &#39;peaches&#39;: 0, &#39;pears&#39;: 0}</span>

<span class="gp">In [30]: </span><span class="n">inventory</span> <span class="ow">is</span> <span class="n">new_inventory</span>
<span class="go">                                                                                   Out[30]: False</span>
</pre></div>
</div>
<p>Similarly, a new shipment of 200 bananas arriving could be handled like this.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [31]: </span><span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apples&#39;</span><span class="p">:</span> <span class="mi">430</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">:</span> <span class="mi">312</span><span class="p">,</span> <span class="s1">&#39;oranges&#39;</span><span class="p">:</span> <span class="mi">525</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">:</span> <span class="mi">217</span><span class="p">}</span>

<span class="gp">In [32]: </span><span class="n">updated_bananas</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;bananas&#39;</span><span class="p">,</span><span class="n">inventory</span><span class="p">)</span> <span class="o">+</span> <span class="mi">200</span>

<span class="gp">In [33]: </span><span class="n">inventory</span> <span class="o">=</span> <span class="n">assoc</span><span class="p">(</span><span class="n">inventory</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">,</span> <span class="n">updated_bananas</span><span class="p">)</span>

<span class="gp">In [34]: </span><span class="n">inventory</span>
<span class="gh">Out[34]: </span><span class="go">{&#39;apples&#39;: 430, &#39;bananas&#39;: 512, &#39;oranges&#39;: 525, &#39;pears&#39;: 217}</span>

<span class="gp">In [35]: </span><span class="nb">len</span><span class="p">(</span><span class="n">inventory</span><span class="p">)</span>
<span class="go">                                                                       Out[35]: 4</span>
</pre></div>
</div>
<p>Notice that there are now 512 bananas&#8212;the dictionary has been modified.  Note
also that the <code class="docutils literal"><span class="pre">len</span></code> function also works on dictionaries.  It returns the
number of key-value pairs:</p>
<p>The function <code class="docutils literal"><span class="pre">dissoc</span></code> is used to remove a key (and its value) from a
dictionary.  As with <code class="docutils literal"><span class="pre">assoc</span></code>, a new dictionary is returned.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [36]: </span><span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apples&#39;</span><span class="p">:</span> <span class="mi">430</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">:</span> <span class="mi">312</span><span class="p">,</span> <span class="s1">&#39;oranges&#39;</span><span class="p">:</span> <span class="mi">525</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">:</span> <span class="mi">217</span><span class="p">}</span>

<span class="gp">In [37]: </span><span class="n">new_dict</span> <span class="o">=</span> <span class="n">dissoc</span><span class="p">(</span><span class="n">inventory</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">)</span>

<span class="gp">In [38]: </span><span class="n">new_dict</span>
<span class="gh">Out[38]: </span><span class="go">{&#39;apples&#39;: 430, &#39;bananas&#39;: 312, &#39;oranges&#39;: 525}</span>

<span class="gp">In [39]: </span><span class="n">inventory</span> <span class="ow">is</span> <span class="n">new_dict</span>
<span class="go">                                                         Out[39]: False</span>
</pre></div>
</div>
<p><strong>Check your understanding</strong></p>

            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question11_2_1">
            <p>rec-5-102: What is printed by the following statements?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mydict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cat&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;elephant&quot;</span><span class="p">:</span><span class="mi">23</span><span class="p">}</span>
<span class="n">mouse_val</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">get</span><span class="p">([</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">],</span> <span class="n">mydict</span><span class="p">))</span>
<span class="n">mydict</span> <span class="o">=</span> <span class="n">assoc</span><span class="p">(</span><span class="n">mydict</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="n">mouse_val</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="n">mydict</span><span class="p">)</span>
</pre></div>
</div>

            <li data-component="answer"  id="test_question11_2_1_opt_a">(A) 12</li><li data-component="feedback" id="test_question11_2_1_opt_a">12 is associated with the key cat.</li>
            
            <li data-component="answer"  id="test_question11_2_1_opt_b">(B) 0</li><li data-component="feedback" id="test_question11_2_1_opt_b">The key mouse will be associated with the sum of the two values.</li>
            
            <li data-component="answer" data-correct id="test_question11_2_1_opt_c">(C) 18</li><li data-component="feedback" id="test_question11_2_1_opt_c">Yes, add the value for cat and the value for dog (12 + 6) and create a new entry for mouse.</li>
            
            <li data-component="answer"  id="test_question11_2_1_opt_d">(D) Error, there is no entry with mouse as the key.</li><li data-component="feedback" id="test_question11_2_1_opt_d">Since the new key is introduced on the left hand side of the assignment statement, a new key-value pair is added to the dictionary.</li>
            

            </ul>
            
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question11_3_2">
            <p>rec-5-103: What is printed by the following statements?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mydict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cat&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;elephant&quot;</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span> <span class="s2">&quot;bear&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
<span class="n">answer</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">mydict</span><span class="p">)</span> <span class="o">//</span> <span class="n">get</span><span class="p">(</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span><span class="n">mydict</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>
</pre></div>
</div>

            <li data-component="answer" data-correct id="test_question11_3_2_opt_a">(A) 2</li><li data-component="feedback" id="test_question11_3_2_opt_a">get returns the value associated with a given key so this divides 12 by 6.</li>
            
            <li data-component="answer"  id="test_question11_3_2_opt_b">(B) 0.5</li><li data-component="feedback" id="test_question11_3_2_opt_b">12 is divided by 6, not the other way around.</li>
            
            <li data-component="answer"  id="test_question11_3_2_opt_c">(C) bear</li><li data-component="feedback" id="test_question11_3_2_opt_c">Take another look at the example for get above.  get returns the value associated with a given key.</li>
            
            <li data-component="answer"  id="test_question11_3_2_opt_d">(D) Error, divide is not a valid operation on dictionaries.</li><li data-component="feedback" id="test_question11_3_2_opt_d">The integer division operator is being used on the values returned from the get method, not on the dictionary.</li>
            

            </ul>
            </div>
<div class="section" id="dictionary-methods">
<h2>6.1.4. Dictionary Methods<a class="headerlink" href="#dictionary-methods" title="Permalink to this headline">¶</a></h2>
<p>Dictionaries have a number of useful built-in methods.
The following table provides a summary and more details can be found in the
<a class="reference external" href="http://docs.python.org/py3k/library/stdtypes.html#mapping-types-dict">Python Documentation</a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="18%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>keys</td>
<td>none</td>
<td>Returns a view of the keys in the dictionary</td>
</tr>
<tr class="row-odd"><td>values</td>
<td>none</td>
<td>Returns a view of the values in the dictionary</td>
</tr>
<tr class="row-even"><td>items</td>
<td>none</td>
<td>Returns a view of the key-value pairs in the dictionary</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">keys</span></code> method returns what Python 3 calls a <strong>view</strong> over its
underlying keys.  An view is an example of an <strong>iterable</strong>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apples&#39;</span><span class="p">:</span> <span class="mi">430</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">:</span> <span class="mi">312</span><span class="p">,</span> <span class="s1">&#39;oranges&#39;</span><span class="p">:</span> <span class="mi">525</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">:</span> <span class="mi">217</span><span class="p">}</span>

<span class="gp">In [41]: </span><span class="n">ks</span> <span class="o">=</span> <span class="n">inventory</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>

<span class="gp">In [42]: </span><span class="nb">type</span><span class="p">(</span><span class="n">ks</span><span class="p">)</span>
<span class="gh">Out[42]: </span><span class="go">dict_keys</span>

<span class="gp">In [43]: </span><span class="n">ks</span>
<span class="go">                   Out[43]: dict_keys([&#39;oranges&#39;, &#39;bananas&#39;, &#39;apples&#39;, &#39;pears&#39;])</span>
</pre></div>
</div>
<p>We can turn the iterable item into an iterator using the <code class="docutils literal"><span class="pre">iter</span></code> function.  An
<strong>iterator</strong> is a lazy construction that allows through the keys, one after the
other using the <code class="docutils literal"><span class="pre">next</span></code> function.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="n">iter_ks</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">ks</span><span class="p">)</span>

<span class="gp">In [45]: </span><span class="nb">type</span><span class="p">(</span><span class="n">iter_ks</span><span class="p">)</span>
<span class="gh">Out[45]: </span><span class="go">dict_keyiterator</span>

<span class="gp">In [46]: </span><span class="nb">next</span><span class="p">(</span><span class="n">iter_ks</span><span class="p">)</span>
<span class="go">                          Out[46]: &#39;oranges&#39;</span>

<span class="gp">In [47]: </span><span class="nb">next</span><span class="p">(</span><span class="n">iter_ks</span><span class="p">)</span>
<span class="go">                                             Out[47]: &#39;bananas&#39;</span>

<span class="gp">In [48]: </span><span class="nb">next</span><span class="p">(</span><span class="n">iter_ks</span><span class="p">)</span>
<span class="go">                                                                Out[48]: &#39;apples&#39;</span>

<span class="gp">In [49]: </span><span class="nb">next</span><span class="p">(</span><span class="n">iter_ks</span><span class="p">)</span>
<span class="go">                                                                                  Out[49]: &#39;pears&#39;</span>

<span class="gp">In [50]: </span><span class="nb">next</span><span class="p">(</span><span class="n">iter_ks</span><span class="p">)</span>
<span class="go">                                                                                                   ---------------------------------------------------------------------------</span>
<span class="go">StopIteration                             Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-50-a86c12757b9e&gt; in &lt;module&gt;()</span>
<span class="go">----&gt; 1 next(iter_ks)</span>

<span class="go">StopIteration: </span>
</pre></div>
</div>
<p>An exception will be thrown once we reach the end of the iterator.  After the
iterator has stepped through the sequence once, it is empty and can&#8217;t be used
again.</p>
<p>While understanding this gives a deeper insight into how Python works, Python
takes care of all of the details for us.  When we process an iterable value in a
list comprehension, Python hides the detail of making the iterator, using
<code class="docutils literal"><span class="pre">next</span></code> to step through the sequence and stopping when the exception is thrown.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is important to note that there is no guarentee the order of the keys
will be returned!  Dictionaries are unordered sets.  If order is important
either sort or use a sequence data structure.</p>
</div>
<p>We can use the iterator to iterate through the keys using a
list comprehension or by converting the view into a list.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [51]: </span><span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apples&#39;</span><span class="p">:</span> <span class="mi">430</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">:</span> <span class="mi">312</span><span class="p">,</span> <span class="s1">&#39;oranges&#39;</span><span class="p">:</span> <span class="mi">525</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">:</span> <span class="mi">217</span><span class="p">}</span>

<span class="gp">In [52]: </span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">akey</span> <span class="k">for</span> <span class="n">akey</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>

<span class="gp">In [53]: </span><span class="n">keys</span>
<span class="gh">Out[53]: </span><span class="go">[&#39;oranges&#39;, &#39;bananas&#39;, &#39;apples&#39;, &#39;pears&#39;]</span>

<span class="gp">In [54]: </span><span class="n">ks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

<span class="gp">In [55]: </span><span class="n">ks</span>
<span class="gh">Out[55]: </span><span class="go">[&#39;oranges&#39;, &#39;bananas&#39;, &#39;apples&#39;, &#39;pears&#39;]</span>

<span class="gp">In [56]: </span><span class="p">[</span><span class="n">akey</span> <span class="k">for</span> <span class="n">akey</span> <span class="ow">in</span> <span class="n">inventory</span><span class="p">]</span>
<span class="go">                                                   Out[56]: [&#39;oranges&#39;, &#39;bananas&#39;, &#39;apples&#39;, &#39;pears&#39;]</span>
</pre></div>
</div>
<p>As we saw earlier with strings and lists, dictionary methods use dot notation,
which specifies the name of the method to the right of the dot and the name of
the object on which to apply the method immediately to the left of the dot. The
empty parentheses in the case of <code class="docutils literal"><span class="pre">keys</span></code> indicate that this method takes no
parameters.   Finally, we note that iterating over the dictionary name iterates
over the keys.</p>
<p>The <code class="docutils literal"><span class="pre">values</span></code> and <code class="docutils literal"><span class="pre">items</span></code> methods are similar to <code class="docutils literal"><span class="pre">keys</span></code>. They return  view
objects which can be turned into lists or iterated over directly.  Note that the
items are shown as tuples containing the key and the associated value.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [57]: </span><span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apples&#39;</span><span class="p">:</span> <span class="mi">430</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">:</span> <span class="mi">312</span><span class="p">,</span> <span class="s1">&#39;oranges&#39;</span><span class="p">:</span> <span class="mi">525</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">:</span> <span class="mi">217</span><span class="p">}</span>

<span class="gp">In [58]: </span><span class="nb">list</span><span class="p">(</span><span class="n">inventory</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="gh">Out[58]: </span><span class="go">[525, 312, 430, 217]</span>

<span class="gp">In [59]: </span><span class="n">pairs</span> <span class="o">=</span> <span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">inventory</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
</pre></div>
</div>
<p>Note that tuples are often useful for getting both the key and the value at the
same time while you are looping.</p>
<p>The <code class="docutils literal"><span class="pre">in</span></code> and <code class="docutils literal"><span class="pre">not</span> <span class="pre">in</span></code> operators can test if a key is in the dictionary:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [60]: </span><span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;apples&#39;</span><span class="p">:</span> <span class="mi">430</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">:</span> <span class="mi">312</span><span class="p">,</span> <span class="s1">&#39;oranges&#39;</span><span class="p">:</span> <span class="mi">525</span><span class="p">,</span> <span class="s1">&#39;pears&#39;</span><span class="p">:</span> <span class="mi">217</span><span class="p">}</span>

<span class="gp">In [61]: </span><span class="s1">&#39;apples&#39;</span> <span class="ow">in</span> <span class="n">inventory</span>
<span class="gh">Out[61]: </span><span class="go">True</span>

<span class="gp">In [62]: </span><span class="s1">&#39;cherries&#39;</span> <span class="ow">in</span> <span class="n">inventory</span>
<span class="go">              Out[62]: False</span>

<span class="gp">In [63]: </span><span class="s1">&#39;bananas&#39;</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="s1">&#39;!&#39;</span> <span class="k">if</span> <span class="s1">&#39;bananas&#39;</span> <span class="ow">in</span> <span class="n">inventory</span> <span class="k">else</span> <span class="s2">&quot;We have no bananas&quot;</span>
<span class="go">                             Out[63]: &#39;BANANAS!!!&#39;</span>
</pre></div>
</div>
<p>This operator can be very useful since looking up a non-existent key in a
dictionary causes a runtime error.</p>
<p><strong>Check your understanding</strong></p>

            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question11_3_1">
            <p>rec-5-104: What is printed by the following statements?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">toolz</span> <span class="kn">import</span> <span class="n">get</span>
<span class="n">mydict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cat&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;elephant&quot;</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span> <span class="s2">&quot;bear&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
<span class="n">keylist</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">mydict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">keylist</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">keylist</span><span class="p">))</span>
</pre></div>
</div>

            <li data-component="answer"  id="test_question11_3_1_opt_a">(A) cat</li><li data-component="feedback" id="test_question11_3_1_opt_a">keylist is a list of all the keys which is then sorted.  cat would be at index 1.</li>
            
            <li data-component="answer"  id="test_question11_3_1_opt_b">(B) dog</li><li data-component="feedback" id="test_question11_3_1_opt_b">keylist is a list of all the keys which is then sorted.  dog would be at index 2.</li>
            
            <li data-component="answer" data-correct id="test_question11_3_1_opt_c">(C) elephant</li><li data-component="feedback" id="test_question11_3_1_opt_c">Yes, the list of keys is sorted and the item at index 3 is printed.</li>
            
            <li data-component="answer"  id="test_question11_3_1_opt_d">(D) bear</li><li data-component="feedback" id="test_question11_3_1_opt_d">keylist is a list of all the keys which is then sorted.  bear would be at index 0.</li>
            

            </ul>
            
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question11_3_3">
            <p>rec-5-105: What is printed by the following statements?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mydict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cat&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;elephant&quot;</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span> <span class="s2">&quot;bear&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;dog&quot;</span> <span class="ow">in</span> <span class="n">mydict</span><span class="p">)</span>
</pre></div>
</div>

            <li data-component="answer" data-correct id="test_question11_3_3_opt_a">(A) True</li><li data-component="feedback" id="test_question11_3_3_opt_a">Yes, dog is a key in the dictionary.</li>
            
            <li data-component="answer"  id="test_question11_3_3_opt_b">(B) False</li><li data-component="feedback" id="test_question11_3_3_opt_b">The in operator returns True if a key is in the dictionary, False otherwise.</li>
            

            </ul>
            
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question11_3_4">
            <p>rec-5-106: What is printed by the following statements?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">mydict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cat&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;elephant&quot;</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span> <span class="s2">&quot;bear&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
<span class="k">print</span><span class="p">(</span><span class="mi">23</span> <span class="ow">in</span> <span class="n">mydict</span><span class="p">)</span>
</pre></div>
</div>

            <li data-component="answer"  id="test_question11_3_4_opt_a">(A) True</li><li data-component="feedback" id="test_question11_3_4_opt_a">23 is a value in the dictionary, not a key.</li>
            
            <li data-component="answer" data-correct id="test_question11_3_4_opt_b">(B) False</li><li data-component="feedback" id="test_question11_3_4_opt_b">Yes, the in operator returns True if a key is in the dictionary, False otherwise.</li>
            

            </ul>
            
            <ul data-component="multiplechoice" data-multipleanswers="false"  id="test_question11_3_5">
            <p>rec-5-107: What is printed by the following statements?</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">toolz</span> <span class="kn">import</span> <span class="n">get</span>
<span class="n">mydict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cat&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;elephant&quot;</span><span class="p">:</span><span class="mi">23</span><span class="p">,</span> <span class="s2">&quot;bear&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
<span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">get</span><span class="p">(</span><span class="n">akey</span><span class="p">,</span> <span class="n">mydict</span><span class="p">)</span> <span class="k">for</span> <span class="n">akey</span> <span class="ow">in</span> <span class="n">mydict</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">akey</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
</pre></div>
</div>

            <li data-component="answer"  id="test_question11_3_5_opt_a">(A) 18</li><li data-component="feedback" id="test_question11_3_5_opt_a">Add the values that have keys greater than 3, not equal to 3.</li>
            
            <li data-component="answer" data-correct id="test_question11_3_5_opt_b">(B) 43</li><li data-component="feedback" id="test_question11_3_5_opt_b">Yes, the for statement iterates over the keys.  It adds the values of the keys that have length greater than 3.</li>
            
            <li data-component="answer"  id="test_question11_3_5_opt_c">(C) 0</li><li data-component="feedback" id="test_question11_3_5_opt_c">This is the accumulator pattern.  total starts at 0 but then changes as the iteration proceeds.</li>
            
            <li data-component="answer"  id="test_question11_3_5_opt_d">(D) 61</li><li data-component="feedback" id="test_question11_3_5_opt_d">Not all the values are added together.  The if statement only chooses some of them.</li>
            

            </ul>
            <div class="admonition-aliasing-and-copying admonition">
<p class="first admonition-title">Aliasing and Copying</p>
<p>Because dictionaries are mutable, you need to be aware of aliasing when
mutating values (as we saw with lists).  Whenever two variables refer to the
same dictionary object, changes to one affect the other.  For example,
<code class="docutils literal"><span class="pre">opposites</span></code> is a dictionary that contains pairs of opposites.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [64]: </span><span class="n">opposites</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;up&#39;</span><span class="p">:</span> <span class="s1">&#39;down&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span> <span class="s1">&#39;wrong&#39;</span><span class="p">,</span> <span class="s1">&#39;true&#39;</span><span class="p">:</span> <span class="s1">&#39;false&#39;</span><span class="p">}</span>

<span class="gp">In [65]: </span><span class="n">alias</span> <span class="o">=</span> <span class="n">opposites</span>

<span class="gp">In [66]: </span><span class="n">alias</span> <span class="ow">is</span> <span class="n">opposites</span>
<span class="gh">Out[66]: </span><span class="go">True</span>

<span class="gp">In [67]: </span><span class="n">alias</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span>

<span class="gp">In [68]: </span><span class="n">opposites</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span>
<span class="gh">Out[68]: </span><span class="go">&#39;left&#39;</span>
</pre></div>
</div>
<p>As you can see from the <code class="docutils literal"><span class="pre">is</span></code> operator, <code class="docutils literal"><span class="pre">alias</span></code> and <code class="docutils literal"><span class="pre">opposites</span></code> refer to
the same object.  This illustrates another reason that we prefer to use
<code class="docutils literal"><span class="pre">assoc</span></code> and <code class="docutils literal"><span class="pre">dissoc</span></code> to update a dictionary: returning fresh copies of a
dictionary eliminates any problems cause by aliasing and mutation.</p>
<div class="last highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [69]: </span><span class="n">opposites</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;up&#39;</span><span class="p">:</span> <span class="s1">&#39;down&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span> <span class="s1">&#39;wrong&#39;</span><span class="p">,</span> <span class="s1">&#39;true&#39;</span><span class="p">:</span> <span class="s1">&#39;false&#39;</span><span class="p">}</span>

<span class="gp">In [70]: </span><span class="n">alias</span> <span class="o">=</span> <span class="n">opposites</span>

<span class="gp">In [71]: </span><span class="n">alias</span> <span class="ow">is</span> <span class="n">opposites</span>
<span class="gh">Out[71]: </span><span class="go">True</span>

<span class="gp">In [72]: </span><span class="n">not_alias</span> <span class="o">=</span> <span class="n">assoc</span><span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="gp">In [73]: </span><span class="n">not_alias</span> <span class="ow">is</span> <span class="n">opposites</span>
<span class="gh">Out[73]: </span><span class="go">False</span>

<span class="gp">In [74]: </span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">opposites</span><span class="p">)</span>
<span class="go">               Out[74]: &#39;wrong&#39;</span>

<span class="gp">In [75]: </span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
<span class="go">                                Out[75]: &#39;wrong&#39;</span>

<span class="gp">In [76]: </span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">not_alias</span><span class="p">)</span>
<span class="go">                                                 Out[76]: &#39;left&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="immutable-and-persistent-dictionaries">
<h2>6.1.5. Immutable and Persistent Dictionaries<a class="headerlink" href="#immutable-and-persistent-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>In the last section, the functions <code class="docutils literal"><span class="pre">assoc</span></code> and <code class="docutils literal"><span class="pre">dissoc</span></code> where used to create
new copies of dictionaries with updated values.  We would expect that copying a
dictionary would add some complexity to the process.  We will take a closer look
at the relative efficiency of a number of approaches to building a dictionary in
the next chapter, but in the mean time we note that the <code class="docutils literal"><span class="pre">pyrsistent</span></code> module
contains a persistent dictionary/map that should reduce the penalty for copying
the contents of a dictionary over and over.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [77]: </span><span class="kn">from</span> <span class="nn">pyrsistent</span> <span class="kn">import</span> <span class="n">pmap</span>

<span class="gp">In [78]: </span><span class="n">opposites</span> <span class="o">=</span> <span class="n">pmap</span><span class="p">({</span><span class="s1">&#39;up&#39;</span><span class="p">:</span> <span class="s1">&#39;down&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span> <span class="s1">&#39;wrong&#39;</span><span class="p">,</span> <span class="s1">&#39;true&#39;</span><span class="p">:</span> <span class="s1">&#39;false&#39;</span><span class="p">})</span>

<span class="gp">In [79]: </span><span class="nb">type</span><span class="p">(</span><span class="n">opposites</span><span class="p">)</span>
<span class="gh">Out[79]: </span><span class="go">pyrsistent._pmap.PMap</span>

<span class="gp">In [80]: </span><span class="n">not_alias</span> <span class="o">=</span> <span class="n">assoc</span><span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="gp">In [81]: </span><span class="n">not_alias</span>
<span class="gh">Out[81]: </span><span class="go">{&#39;right&#39;: &#39;left&#39;, &#39;true&#39;: &#39;false&#39;, &#39;up&#39;: &#39;down&#39;}</span>

<span class="gp">In [82]: </span><span class="n">not_alias</span> <span class="ow">is</span> <span class="n">opposites</span>
<span class="go">                                                          Out[82]: False</span>

<span class="gp">In [83]: </span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;up&#39;</span><span class="p">,</span> <span class="n">not_alias</span><span class="p">)</span>
<span class="go">                                                                         Out[83]: &#39;down&#39;</span>

<span class="gp">In [84]: </span><span class="n">also_not_alias</span> <span class="o">=</span> <span class="n">dissoc</span><span class="p">(</span><span class="n">not_alias</span><span class="p">,</span> <span class="s1">&#39;up&#39;</span><span class="p">)</span>

<span class="gp">In [85]: </span><span class="n">also_not_alias</span>
<span class="gh">Out[85]: </span><span class="go">{&#39;right&#39;: &#39;left&#39;, &#39;true&#39;: &#39;false&#39;}</span>

<span class="gp">In [86]: </span><span class="n">also_not_alias</span> <span class="ow">is</span> <span class="n">not_alias</span>
<span class="go">                                            Out[86]: False</span>

<span class="gp">In [87]: </span><span class="n">also_not_alias</span> <span class="ow">is</span> <span class="n">alias</span>
<span class="go">                                                           Out[87]: False</span>
</pre></div>
</div>
<p>Notice that the same semantics that we use to work with dictionaries, i.e. using
<code class="docutils literal"><span class="pre">assoc</span></code>, <code class="docutils literal"><span class="pre">dissoc</span></code> and <code class="docutils literal"><span class="pre">get</span></code> also work with a <code class="docutils literal"><span class="pre">pmap</span></code>.</p>
<p>It should also be noted that, because all of the data types in <code class="docutils literal"><span class="pre">pyrsistent</span></code>
are immutable, these data structures can be used as keys in a dictionary!</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [88]: </span><span class="kn">from</span> <span class="nn">pyrsistent</span> <span class="kn">import</span> <span class="n">pmap</span><span class="p">,</span> <span class="n">pvector</span>

<span class="gp">In [89]: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="n">pmap</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}):</span><span class="s1">&#39;pmap&#39;</span><span class="p">,</span> <span class="n">pvector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]):</span><span class="s1">&#39;pvector&#39;</span><span class="p">}</span>

<span class="gp">In [90]: </span><span class="n">d</span>
<span class="gh">Out[90]: </span><span class="go">{pvector([1, 2]): &#39;pvector&#39;, pmap({&#39;a&#39;: 1}): &#39;pmap&#39;}</span>
</pre></div>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 6. Associative Data Structures - Dictionaries and Sets' data-toggle="tooltip">
    <a href="toctree.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="toctree.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 6.2. Sets' data-toggle="tooltip" >
    <a href="Sets.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="Sets.html" >Next Section - 6.2. Sets</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 Todd Iverson.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>