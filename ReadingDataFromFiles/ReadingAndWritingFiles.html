<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5.1. Reading and Writing Files &mdash; Runestone Interactive Overview</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../_static/livecode.css" type="text/css" />
    <link rel="stylesheet" href="../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../_static/lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/2.3.1/""/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../_static/codemirror.js"></script>
    <script type="text/javascript" src="../_static/xml.js"></script>
    <script type="text/javascript" src="../_static/css.js"></script>
    <script type="text/javascript" src="../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../_static/python.js"></script>
    <script type="text/javascript" src="../_static/javascript.js"></script>
    <script type="text/javascript" src="../_static/activecode.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../_static/animationbase.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js"></script>
    <script type="text/javascript" src="../_static/timedmc.js"></script>
    <script type="text/javascript" src="../_static/timed.js"></script>
    <script type="text/javascript" src="../_static/clickable.js"></script>
    <script type="text/javascript" src="../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../_static/pytutor.js"></script>
    <script type="text/javascript" src="../_static/codelens.js"></script>
    <script type="text/javascript" src="../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="../_static/datafile.js"></script>
    <script type="text/javascript" src="../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../_static/fitb.js"></script>
    <script type="text/javascript" src="../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../_static/livecode.js"></script>
    <script type="text/javascript" src="../_static/clike.js"></script>
    <script type="text/javascript" src="../_static/lib/prettify.js"></script>
    <script type="text/javascript" src="../_static/lib/hammer.min.js"></script>
    <script type="text/javascript" src="../_static/parsons.js"></script>
    <script type="text/javascript" src="../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../_static/poll.js"></script>
    <script type="text/javascript" src="../_static/reveal.js"></script>
    <script type="text/javascript" src="../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="top" title="Runestone Interactive Overview" href="../index.html" />
    <link rel="up" title="5. Reading Data from Files" href="toctree.html" />
    <link rel="next" title="5.4. Exercises" href="Exercises.html" />
    <link rel="prev" title="5. Reading Data from Files" href="toctree.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'STAT489';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'STAT489';
</script>

<div id="fb-root"></div>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&status=0";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>



  </head>
  <body role="document">


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../_static/img/logo_small.png") no-repeat 0px 0px;' href="/runestone/default/user/login">&nbsp; </a>
        <a class="navbar-brand" href="../index.html">STAT489</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- social media dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-share-alt" style="opacity: 0.9"></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone" class="twitter-follow-button" data-show-count="true">Follow @iRunestone</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                <div class="fb-like" data-href="https://www.facebook.com/RunestoneInteractive" data-send="false" data-layout="button_count" data-width="300" data-show-faces="false" data-font="arial"></div>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHNwYJKoZIhvcNAQcEoIIHKDCCByQCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYAcrkqh1hn3lYqIpfXxNqe1T82EhXzCJGy1yMAmklpyZshyMkfDGe1Bhx+iwyGeoYRTTyphFmP+9M3NyO0+Q5XdHxgZPx/zYjjBxlZHgEV6jhE8bN2fHkkPf0VHfz0a0QQylQOPlKiOTZV7B37Jpk6yM47oVZ1tG/KNm0NkfmB76DELMAkGBSsOAwIaBQAwgbQGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIi0GmFfOlcjuAgZBbYOo9UO+CpMQa+PYqwsUmUnJvXIImeMeNI3KVTUx5Cfk9gNMo3WzPeiB5IqZo9nRAQ0mf1qL2ecLeB5tidM+lgBUhOxfj3/FecpnVFa0263gp4g+PLw8jzhvVRdUon1K3SeO1Rzh23fIRKwnrD6btt73uwtj0sl3tGd8qz+6GIcwPDdRk9VcUffiBJT/ZagKgggOHMIIDgzCCAuygAwIBAgIBADANBgkqhkiG9w0BAQUFADCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wHhcNMDQwMjEzMTAxMzE1WhcNMzUwMjEzMTAxMzE1WjCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMFHTt38RMxLXJyO2SmS+Ndl72T7oKJ4u4uw+6awntALWh03PewmIJuzbALScsTS4sZoS1fKciBGoh11gIfHzylvkdNe/hJl66/RGqrj5rFb08sAABNTzDTiqqNpJeBsYs/c2aiGozptX2RlnBktH+SUNpAajW724Nv2Wvhif6sFAgMBAAGjge4wgeswHQYDVR0OBBYEFJaffLvGbxe9WT9S1wob7BDWZJRrMIG7BgNVHSMEgbMwgbCAFJaffLvGbxe9WT9S1wob7BDWZJRroYGUpIGRMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbYIBADAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4GBAIFfOlaagFrl71+jq6OKidbWFSE+Q4FqROvdgIONth+8kSK//Y/4ihuE4Ymvzn5ceE3S/iBSQQMjyvb+s2TWbQYDwcp129OPIbD9epdr4tJOUNiSojw7BHwYRiPh58S1xGlFgHFXwrEBb3dgNbMUa+u4qectsMAXpVHnD9wIyfmHMYIBmjCCAZYCAQEwgZQwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tAgEAMAkGBSsOAwIaBQCgXTAYBgkqhkiG9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMzExMDMxMzQxMzFaMCMGCSqGSIb3DQEJBDEWBBRDJF8w+zsMr7FSk+pwinB5f5D4rzANBgkqhkiG9w0BAQEFAASBgHw1LMHpkpaqHIvDGdFE0eG+2mZlmMnUeDCBhQlbc7QMzFQYKTV94NfaebBO4PmNdADe1rq4WidSRZZbE7CzkX9IGENYnBTWY0hb2l0lGdGrJdGeWyV3ekg9WVaFMMumrekds96h3Cx7dGz2kWDzIai2iEXE/qoE+xpkyXAYZNV3-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li>
        <!-- end social media dropdown -->

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html'>Table of Contents</a></li>
            
            <li><a href='/runestone/static/STAT489/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>

        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='/runestone/static/STAT489/navhelp.html'>Navigation Help</a></li>
            <li><a href='/runestone/static/overview/instructor.html'>Help for Instructors</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=STAT489&page=ReadingAndWritingFiles'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">5.1. Reading and Writing Files</a><ul>
<li><a class="reference internal" href="#working-with-data-files">5.1.1. Working with Data Files</a></li>
<li><a class="reference internal" href="#finding-a-file-on-your-disk">5.1.2. Finding a File on your Disk</a></li>
<li><a class="reference internal" href="#glossary">5.1.3. Glossary</a></li>
<li><a class="reference internal" href="#reading-a-file">5.1.4. Reading a File</a></li>
<li><a class="reference internal" href="#writing-text-files">5.1.5. Writing Text Files</a></li>
<li><a class="reference internal" href="#alternative-file-reading-methods">5.1.6. Alternative File Reading Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#importing-csv-files">5.2. Importing csv files</a></li>
<li><a class="reference internal" href="#reading-and-writing-large-files">5.3. Reading and Writing Large Files</a></li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 5. Reading Data from Files" data-toggle="tooltip">
    <a href="toctree.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 5.4. Exercises' data-toggle="tooltip" >
    <a href="Exercises.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="reading-and-writing-files">
<h1>5.1. Reading and Writing Files<a class="headerlink" href="#reading-and-writing-files" title="Permalink to this headline">¶</a></h1>
<p>So far, the data we have used in this book have all been either coded right into
the program, or have been entered by the user.  In real life data reside in
files.  For example the images we worked with in the image processing unit
ultimately live in files on your hard drive.  Web pages, and word processing
documents, and music are other examples of data that live in files.  In this
short chapter we will introduce the Python concepts necessary to use data from
files in our programs.</p>
<div class="section" id="working-with-data-files">
<h2>5.1.1. Working with Data Files<a class="headerlink" href="#working-with-data-files" title="Permalink to this headline">¶</a></h2>
<p>For our purposes, we will assume that our data files are text files&#8211;that is,
files filled with characters. The Python programs that you write are stored as
text files.  We can create these files in any of a number of ways. For example,
we could use a text editor to type in and save the data.  We could also download
the data from a website and then save it in a file. Regardless of how the file
is created, Python will allow us to manipulate the contents.</p>
<p>In Python, we must <strong>open</strong> files before we can use them and <strong>close</strong> them when
we are done with them. As you might expect, once a file is opened it becomes a
Python object just like all other data. <a class="reference internal" href="#filemethods1a"><span class="std std-ref">Table 1</span></a> shows the
functions and methods that can be used to open and close files.</p>
<table border="1" class="docutils" id="filemethods1a">
<colgroup>
<col width="11%" />
<col width="16%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Method Name</strong></th>
<th class="head"><strong>Use</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">open</span></code></td>
<td><code class="docutils literal"><span class="pre">open(filename,'r')</span></code></td>
<td>Open a file called filename and use it for reading.  This will return a reference to a file object.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">open</span></code></td>
<td><code class="docutils literal"><span class="pre">open(filename,'w')</span></code></td>
<td>Open a file called filename and use it for writing.  This will also return a reference to a file object.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">close</span></code></td>
<td><code class="docutils literal"><span class="pre">filevariable.close()</span></code></td>
<td>File use is complete.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="finding-a-file-on-your-disk">
<h2>5.1.2. Finding a File on your Disk<a class="headerlink" href="#finding-a-file-on-your-disk" title="Permalink to this headline">¶</a></h2>
<p>Opening a file requires that you, as a programmer, and Python agree about the
location of the file on your disk.  The way that files are located on disk is by
their <strong>path</strong>  You can think of the filename as the short name for a file, and
the path as the full name.  For example on a Mac if you save the file
<code class="docutils literal"><span class="pre">hello.txt</span></code> in your home directory the path to that file is
<code class="docutils literal"><span class="pre">/Users/yourname/hello.txt</span></code>  On a Windows machine the path looks a bit
different but the same principles are in use.  For example on windows the path
might be <code class="docutils literal"><span class="pre">C:\Users\yourname\My</span> <span class="pre">Documents\hello.txt</span></code></p>
<div class="sidebar">
<p class="first sidebar-title">The History of Path Separators</p>
<p class="last">Why is the path separator a <code class="docutils literal"><span class="pre">/</span></code> on Unix/Linux/MacOS systems and <code class="docutils literal"><span class="pre">\</span></code> on
Microsoft Windows systems? The concept of a hierarchy of folders
was first developed in Unix. On a Unix command line a <code class="code docutils literal"><span class="pre">/</span></code> is used to
separate folder names in a file path and dashes are used to specify command line
options, e.g.,  <code class="docutils literal"><span class="pre">path/to/file/myfile</span> <span class="pre">-long</span> <span class="pre">-reverse</span></code>. On a
Windows system the <code class="docutils literal"><span class="pre">/</span></code> character is used for command line options, so the designers
of Windows decided to use the <code class="docutils literal"><span class="pre">\</span></code> for separating folder names in a file
path, e.g., <code class="docutils literal"><span class="pre">path\to\file\myfile</span> <span class="pre">/long</span> <span class="pre">/reverse</span></code>. Using a
<code class="docutils literal"><span class="pre">\</span></code> to separate folder names in a path is problematic because the <code class="docutils literal"><span class="pre">\</span></code>
character is also used as an escape character for special characters, such
as <code class="docutils literal"><span class="pre">\n</span></code> for a new line character. Bottom line, we will always use the <code class="docutils literal"><span class="pre">/</span></code>
character to separate folder names in a path, and even on Windows
system the file path will work just fine.</p>
</div>
<p>You can access files in sub-folders, also called directories, under your home
directory by adding a slash and the name of the folder.  For example, if you had
a file called <code class="docutils literal"><span class="pre">hello.py</span></code> in a folder called <code class="docutils literal"><span class="pre">CS150</span></code> that is inside a folder
called <code class="docutils literal"><span class="pre">PyCharmProjects</span></code> under your home directory, then the full name for the
file <code class="docutils literal"><span class="pre">hello.py</span></code> is <code class="docutils literal"><span class="pre">/Users/yourname/PyCharmProjects/CS150/hello.py</span></code>.  This
is called an <em>absolute file path</em>. An <em>absolute file path</em> typically only works
on a specific computer. Think about it for a second. What other computer in the
world is going to have an <em>absolute file path</em> that starts with
<code class="docutils literal"><span class="pre">/Users/yourname</span></code>?</p>
<p>If a file is not in the same folder as your python program, you need to tell the
computer how to reach it. A <em>relative file path</em> starts from the folder that
contains your python program and follows a computer&#8217;s file hierarchy. A file
hierarchy contains folders which contains files and other sub-folders.
Specifying a sub-folder is easy &#8211; you simply specify the sub-folder&#8217;s name.  To
specify a <em>parent</em> folder you use the special <code class="docutils literal"><span class="pre">..</span></code> notation because every file
and folder has one unique parent. You can use the <code class="docutils literal"><span class="pre">..</span></code> notation multiple times
in a file path to move multiple levels up a file hierarchy. Here is an example
file hierarchy that contains multiple folders, files, and sub-folders. Folders
in the diagram are displayed in <strong>bold</strong> type.</p>
<img alt="../_images/ExampleFileHierarchy.png" class="align-center" src="../_images/ExampleFileHierarchy.png" />
<p>Using the example file hierarchy above, the program, <code class="docutils literal"><span class="pre">myPythonProgram.py</span></code>
could access each of the data files using the following <em>relative file paths</em>:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">data1.txt</span></code></li>
<li><code class="docutils literal"><span class="pre">../myData/data2.txt</span></code></li>
<li><code class="docutils literal"><span class="pre">../myData/data3.txt</span></code></li>
<li><code class="docutils literal"><span class="pre">../../otherFiles/extraData/data4.txt</span></code></li>
</ul>
<p>Here&#8217;s the important rule to remember: If your file and your Python program are
in the same directory you can simply use the filename like this:
<code class="docutils literal"><span class="pre">open('myfile.txt',</span> <span class="pre">'r')</span></code>. If your file and your Python program are in
different directories then you must use a <em>relative file path</em> to the file like
this: <code class="docutils literal"><span class="pre">open('../myData/data3.txt',</span> <span class="pre">'r')</span></code>.</p>
</div>
<div class="section" id="glossary">
<h2>5.1.3. Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-absolute-file-path">absolute file path</dt>
<dd>The name of a file that includes a path to the file from the <em>root</em>
directory of a file system. An <em>absolute file path</em> always starts
with a <code class="docutils literal"><span class="pre">/</span></code>.</dd>
<dt id="term-relative-file-path">relative file path</dt>
<dd>The name of a file that includes a path to the file from the current
working directory of a program. An <em>relative file path</em> never starts
with a <code class="docutils literal"><span class="pre">/</span></code>.</dd>
</dl>
</div>
<div class="section" id="reading-a-file">
<span id="index-0"></span><h2>5.1.4. Reading a File<a class="headerlink" href="#reading-a-file" title="Permalink to this headline">¶</a></h2>
<p>As an example, suppose we have a text file called <code class="docutils literal"><span class="pre">qbdata.txt</span></code> that contains
the following data representing statistics about NFL quarterbacks. Although it
would be possible to consider entering this data by hand each time it is used,
you can imagine that it would be time-consuming and error-prone to do this. In
addition, it is likely that there could be data from more quarterbacks and
other years. The format of the data file is as follows</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">First</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Last</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Position</span><span class="p">,</span> <span class="n">Team</span><span class="p">,</span> <span class="n">Completions</span><span class="p">,</span> <span class="n">Attempts</span><span class="p">,</span> <span class="n">Yards</span><span class="p">,</span> <span class="n">TDs</span><span class="p">,</span> <span class="n">Ints</span><span class="p">,</span> <span class="n">Comp</span><span class="o">%</span><span class="p">,</span> <span class="n">Rating</span>
</pre></div>
</div>
<pre id="qbdata.txt">
Colt McCoy QB CLE  135 222 1576    6   9   60.8%   74.5
Josh Freeman QB TB 291 474 3451    25  6   61.4%   95.9
Michael Vick QB PHI    233 372 3018    21  6   62.6%   100.2
Matt Schaub QB HOU 365 574 4370    24  12  63.6%   92.0
Philip Rivers QB SD    357 541 4710    30  13  66.0%   101.8
Matt Hasselbeck QB SEA 266 444 3001    12  17  59.9%   73.2
Jimmy Clausen QB CAR   157 299 1558    3   9   52.5%   58.4
Joe Flacco QB BAL  306 489 3622    25  10  62.6%   93.6
Kyle Orton QB DEN  293 498 3653    20  9   58.8%   87.5
Jason Campbell QB OAK  194 329 2387    13  8   59.0%   84.5
Peyton Manning QB IND  450 679 4700    33  17  66.3%   91.9
Drew Brees QB NO   448 658 4620    33  22  68.1%   90.9
Matt Ryan QB ATL   357 571 3705    28  9   62.5%   91.0
Matt Cassel QB KC  262 450 3116    27  7   58.2%   93.0
Mark Sanchez QB NYJ    278 507 3291    17  13  54.8%   75.3
Brett Favre QB MIN 217 358 2509    11  19  60.6%   69.9
David Garrard QB JAC   236 366 2734    23  15  64.5%   90.8
Eli Manning QB NYG 339 539 4002    31  25  62.9%   85.3
Carson Palmer QB CIN   362 586 3970    26  20  61.8%   82.4
Alex Smith QB SF   204 342 2370    14  10  59.6%   82.1
Chad Henne QB MIA  301 490 3301    15  19  61.4%   75.4
Tony Romo QB DAL   148 213 1605    11  7   69.5%   94.9
Jay Cutler QB CHI  261 432 3274    23  16  60.4%   86.3
Jon Kitna QB DAL   209 318 2365    16  12  65.7%   88.9
Tom Brady QB NE    324 492 3900    36  4   65.9%   111.0
Ben Roethlisberger QB PIT  240 389 3200    17  5   61.7%   97.0
Kerry Collins QB TEN   160 278 1823    14  8   57.6%   82.2
Derek Anderson QB ARI  169 327 2065    7   10  51.7%   65.9
Ryan Fitzpatrick QB BUF    255 441 3000    23  15  57.8%   81.8
Donovan McNabb QB WAS  275 472 3377    14  15  58.3%   77.1
Kevin Kolb QB PHI  115 189 1197    7   7   60.8%   76.1
Aaron Rodgers QB GB    312 475 3922    28  11  65.7%   101.2
Sam Bradford QB STL    354 590 3512    18  15  60.0%   76.5
Shaun Hill QB DET  257 416 2686    16  12  61.8%   81.3
</pre><p>To open this file, we would call the <code class="docutils literal"><span class="pre">open</span></code> function. The variable,
<code class="docutils literal"><span class="pre">fileref</span></code>, now holds a reference to the file object returned by
<code class="docutils literal"><span class="pre">open</span></code>. When we are finished with the file, we can close it by using
the <code class="docutils literal"><span class="pre">close</span></code> method. After the file is closed any further attempts to
use <code class="docutils literal"><span class="pre">fileref</span></code> will result in an error.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt;fileref = open(&quot;qbdata.txt&quot;, &quot;r&quot;)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="go">&gt;&gt;&gt;fileref.close()</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>The process of opening and closing a file should be accomplished using the
<code class="docutils literal"><span class="pre">with</span></code> statement, as shown below.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;qbdata.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">   ...: </span>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">]</span>
<span class="gp">   ...: </span>

<span class="gp">In [2]: </span><span class="n">lines</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="gh">Out[2]: </span><span class="go"></span>
<span class="go">[&#39;Colt McCoy QB CLE  135 222 1576    6   9   60.8%   74.5\n&#39;,</span>
<span class="go"> &#39;Josh Freeman QB TB 291 474 3451    25  6   61.4%   95.9\n&#39;,</span>
<span class="go"> &#39;Michael Vick QB PHI    233 372 3018    21  6   62.6%   100.2\n&#39;,</span>
<span class="go"> &#39;Matt Schaub QB HOU 365 574 4370    24  12  63.6%   92.0\n&#39;,</span>
<span class="go"> &#39;Philip Rivers QB SD    357 541 4710    30  13  66.0%   101.8\n&#39;]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the <code class="docutils literal"><span class="pre">with</span></code> statement when working with files in Python is considered
a best-practice, as it guarentees that files are properly opened and closed
at the right time.</p>
</div>
</div>
<div class="section" id="writing-text-files">
<h2>5.1.5. Writing Text Files<a class="headerlink" href="#writing-text-files" title="Permalink to this headline">¶</a></h2>
<p>One of the most commonly performed data processing tasks is to read data from a
file, manipulate it in some way, and then write the resulting data out to a new
data file to be used for other purposes later.  To accomplish this, the <code class="docutils literal"><span class="pre">open</span></code>
function discussed above can also be used to create a new file prepared for
writing.  Note in <a class="reference internal" href="#filemethods1a"><span class="std std-ref">Table 1</span></a> above that the only difference
between opening a file for writing and  opening a file for reading is the use of
the <code class="docutils literal"><span class="pre">'w'</span></code> flag instead of the <code class="docutils literal"><span class="pre">'r'</span></code> flag as the second parameter.  When we
open a file for writing, a new, empty file with that name is created and made
ready to accept our data. As before, the function returns a reference to the new
file object.</p>
<p><a class="reference internal" href="#filemethods2a"><span class="std std-ref">Table 2</span></a> above shows one additional file method that we
have not used thus far.  The <code class="docutils literal"><span class="pre">write</span></code> method allows us to add data to a text
file.  Recall that text files contain sequences of characters.  We usually think
of these character sequences as being the lines of the file where each line ends
with the newline <code class="docutils literal"><span class="pre">\n</span></code> character.  Be very careful to notice that the <code class="docutils literal"><span class="pre">write</span></code>
method takes one parameter, a string.  When invoked, the characters of the
string will be added to the end of the file.  This means that it is the
programmers job to include the newline characters as part of the string if
desired.</p>
<p>As an example, consider the <code class="docutils literal"><span class="pre">qbdata.txt</span></code> file once again.  Assume that we have
been asked to provide a file consisting of only the names of the quarterbacks.
In addition, the names should be in the order last name followed by first name
with the names separated by a comma.  This is a very common type of request,
usually due to the fact that someone has a program that requires its data input
format to be different from what is available.</p>
<p>To construct this file, we will approach the problem using a similar algorithm
as above.  We start by reading the lines into a list called <code class="docutils literal"><span class="pre">lines</span></code>.  Then the
lines are split into rows using whitespace.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;qbdata.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<span class="gp">   ...: </span>     <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">infile</span><span class="p">]</span>
<span class="gp">   ...: </span>

<span class="gp">In [4]: </span><span class="n">split_line</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

<span class="gp">In [5]: </span><span class="n">rows</span> <span class="o">=</span> <span class="p">[</span><span class="n">split_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">]</span>

<span class="gp">In [6]: </span><span class="n">rows</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="gh">Out[6]: </span><span class="go"></span>
<span class="go">[[&#39;Colt&#39;,</span>
<span class="go">  &#39;McCoy&#39;,</span>
<span class="go">  &#39;QB&#39;,</span>
<span class="go">  &#39;CLE&#39;,</span>
<span class="go">  &#39;135&#39;,</span>
<span class="go">  &#39;222&#39;,</span>
<span class="go">  &#39;1576&#39;,</span>
<span class="go">  &#39;6&#39;,</span>
<span class="go">  &#39;9&#39;,</span>
<span class="go">  &#39;60.8%&#39;,</span>
<span class="go">  &#39;74.5&#39;],</span>
<span class="go"> [&#39;Josh&#39;,</span>
<span class="go">  &#39;Freeman&#39;,</span>
<span class="go">  &#39;QB&#39;,</span>
<span class="go">  &#39;TB&#39;,</span>
<span class="go">  &#39;291&#39;,</span>
<span class="go">  &#39;474&#39;,</span>
<span class="go">  &#39;3451&#39;,</span>
<span class="go">  &#39;25&#39;,</span>
<span class="go">  &#39;6&#39;,</span>
<span class="go">  &#39;61.4%&#39;,</span>
<span class="go">  &#39;95.9&#39;]]</span>
</pre></div>
</div>
<p>These lines need to be transformed into rows that contain the lastname and first
names, in that order and separated by commas.  This is accomplished with two
comprehensions, first transforming the rows (list of strings) into rows (list of
strings) and then joining the rows (list of strings) into a string using the
<code class="docutils literal"><span class="pre">join</span></code> method with a <code class="docutils literal"><span class="pre">,</span></code> as the &#8220;glue.&#8221;</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">names</span> <span class="o">=</span> <span class="p">[(</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">]</span>

<span class="gp">In [8]: </span><span class="n">comma_separate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

<span class="gp">In [9]: </span><span class="n">new_lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">comma_separate</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">names</span><span class="p">]</span>

<span class="gp">In [10]: </span><span class="n">new_lines</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="gh">Out[10]: </span><span class="go">[&#39;McCoy,Colt&#39;, &#39;Freeman,Josh&#39;, &#39;Vick,Michael&#39;, &#39;Schaub,Matt&#39;, &#39;Rivers,Philip&#39;]</span>
</pre></div>
</div>
<p>When we run this program, we see the lines of output on the screen.  Once we are
satisfied that it is creating the appropriate output, the next step is to add
the necessary pieces to produce an output file and write the data lines to it.
To start, we need to open a new output file by adding another <code class="docutils literal"><span class="pre">with</span></code>
statement, where <code class="docutils literal"><span class="pre">outfile</span></code> will be the alias for <code class="docutils literal"><span class="pre">open(&quot;qbnames.csv&quot;,'w')</span></code>,
using the <code class="docutils literal"><span class="pre">'w'</span></code> flag.  We can choose any file name we like.  If the file does
not exist, it will be created.  However, if the file does exist, it will be
reinitialized as empty and you will lose any previous contents.</p>
<p>Once the file has been created, we just need to call the <code class="docutils literal"><span class="pre">print</span></code> function
passing the file object in as a parameter.  By default, the <code class="docutils literal"><span class="pre">print</span></code> function
will append a <code class="docutils literal"><span class="pre">\n</span></code> to each line.  See <code class="docutils literal"><span class="pre">help(print)</span></code> for more information
about the optional <code class="docutils literal"><span class="pre">end</span></code> and <code class="docutils literal"><span class="pre">sep</span></code> arguments.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;qbnames.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
<span class="gp">   ....: </span>     <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">new_lines</span><span class="p">:</span>
<span class="gp">   ....: </span>          <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="nb">file</span> <span class="o">=</span> <span class="n">outfile</span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p>The contents of the <code class="docutils literal"><span class="pre">qbnames.csv</span></code> file can be shown using the IPython <code class="docutils literal"><span class="pre">%cat</span></code>
magic.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="o">%</span><span class="k">cat</span> qbnames.csv
<span class="go">McCoy,Colt</span>
<span class="go">Freeman,Josh</span>
<span class="go">Vick,Michael</span>
<span class="go">Schaub,Matt</span>
<span class="go">Rivers,Philip</span>
<span class="go">Hasselbeck,Matt</span>
<span class="go">Clausen,Jimmy</span>
<span class="go">Flacco,Joe</span>
<span class="go">Orton,Kyle</span>
<span class="go">Campbell,Jason</span>
<span class="go">Manning,Peyton</span>
<span class="go">Brees,Drew</span>
<span class="go">Ryan,Matt</span>
<span class="go">Cassel,Matt</span>
<span class="go">Sanchez,Mark</span>
<span class="go">Favre,Brett</span>
<span class="go">Garrard,David</span>
<span class="go">Manning,Eli</span>
<span class="go">Palmer,Carson</span>
<span class="go">Smith,Alex</span>
<span class="go">Henne,Chad</span>
<span class="go">Romo,Tony</span>
<span class="go">Cutler,Jay</span>
<span class="go">Kitna,Jon</span>
<span class="go">Brady,Tom</span>
<span class="go">Roethlisberger,Ben</span>
<span class="go">Collins,Kerry</span>
<span class="go">Anderson,Derek</span>
<span class="go">Fitzpatrick,Ryan</span>
<span class="go">McNabb,Donovan</span>
<span class="go">Kolb,Kevin</span>
<span class="go">Rodgers,Aaron</span>
<span class="go">Bradford,Sam</span>
<span class="go">Hill,Shaun</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">IPython magic such as <code class="docutils literal"><span class="pre">pwd</span></code>, <code class="docutils literal"><span class="pre">ls</span></code>, and <code class="docutils literal"><span class="pre">cat</span></code> make working iteratively
with the file system a breeze.</p>
</div>
</div>
<div class="section" id="alternative-file-reading-methods">
<h2>5.1.6. Alternative File Reading Methods<a class="headerlink" href="#alternative-file-reading-methods" title="Permalink to this headline">¶</a></h2>
<p>Again, recall the contents of the qbdata.txt file.</p>
<pre id="qbdata.txt">
Colt McCoy QB CLE  135 222 1576    6   9   60.8%   74.5
Josh Freeman QB TB 291 474 3451    25  6   61.4%   95.9
Michael Vick QB PHI    233 372 3018    21  6   62.6%   100.2
Matt Schaub QB HOU 365 574 4370    24  12  63.6%   92.0
Philip Rivers QB SD    357 541 4710    30  13  66.0%   101.8
Matt Hasselbeck QB SEA 266 444 3001    12  17  59.9%   73.2
Jimmy Clausen QB CAR   157 299 1558    3   9   52.5%   58.4
Joe Flacco QB BAL  306 489 3622    25  10  62.6%   93.6
Kyle Orton QB DEN  293 498 3653    20  9   58.8%   87.5
Jason Campbell QB OAK  194 329 2387    13  8   59.0%   84.5
Peyton Manning QB IND  450 679 4700    33  17  66.3%   91.9
Drew Brees QB NO   448 658 4620    33  22  68.1%   90.9
Matt Ryan QB ATL   357 571 3705    28  9   62.5%   91.0
Matt Cassel QB KC  262 450 3116    27  7   58.2%   93.0
Mark Sanchez QB NYJ    278 507 3291    17  13  54.8%   75.3
Brett Favre QB MIN 217 358 2509    11  19  60.6%   69.9
David Garrard QB JAC   236 366 2734    23  15  64.5%   90.8
Eli Manning QB NYG 339 539 4002    31  25  62.9%   85.3
Carson Palmer QB CIN   362 586 3970    26  20  61.8%   82.4
Alex Smith QB SF   204 342 2370    14  10  59.6%   82.1
Chad Henne QB MIA  301 490 3301    15  19  61.4%   75.4
Tony Romo QB DAL   148 213 1605    11  7   69.5%   94.9
Jay Cutler QB CHI  261 432 3274    23  16  60.4%   86.3
Jon Kitna QB DAL   209 318 2365    16  12  65.7%   88.9
Tom Brady QB NE    324 492 3900    36  4   65.9%   111.0
Ben Roethlisberger QB PIT  240 389 3200    17  5   61.7%   97.0
Kerry Collins QB TEN   160 278 1823    14  8   57.6%   82.2
Derek Anderson QB ARI  169 327 2065    7   10  51.7%   65.9
Ryan Fitzpatrick QB BUF    255 441 3000    23  15  57.8%   81.8
Donovan McNabb QB WAS  275 472 3377    14  15  58.3%   77.1
Kevin Kolb QB PHI  115 189 1197    7   7   60.8%   76.1
Aaron Rodgers QB GB    312 475 3922    28  11  65.7%   101.2
Sam Bradford QB STL    354 590 3512    18  15  60.0%   76.5
Shaun Hill QB DET  257 416 2686    16  12  61.8%   81.3
</pre><p>In addition to using a list comprehension to read in the lines, we can simplify
this process using <code class="docutils literal"><span class="pre">readline</span></code>.  The <code class="docutils literal"><span class="pre">readlines</span></code> method returns the
contents of the entire file as a list of strings, where each item in the list
represents one line of the file. It is also possible to read the entire file
into a single string with <code class="docutils literal"><span class="pre">read</span></code>. <a class="reference internal" href="#filemethods2a"><span class="std std-ref">Table 2</span></a> summarizes
these methods and the following session shows them in action.</p>
<p>Note that we need to reopen the file before each read so that we start from
the beginning. Each file has a marker that denotes the current read position
in the file. Any time one of the read methods is called the marker is moved to
the character immediately following the last character returned. In the case
of <code class="docutils literal"><span class="pre">readline</span></code> this moves the marker to the first character of the next line
in the file. In the case of <code class="docutils literal"><span class="pre">read</span></code> or <code class="docutils literal"><span class="pre">readlines</span></code> the marker is moved to
the end of the file.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="k">with</span>  <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;qbdata.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<span class="gp">   ....: </span>    <span class="n">linelist</span> <span class="o">=</span> <span class="n">infile</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="gp">   ....: </span>

<span class="gp">In [14]: </span><span class="nb">len</span><span class="p">(</span><span class="n">linelist</span><span class="p">)</span>
<span class="gh">Out[14]: </span><span class="go">34</span>

<span class="gp">In [15]: </span><span class="n">linelist</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">            Out[15]: </span>
<span class="go">[&#39;Colt McCoy QB CLE  135 222 1576    6   9   60.8%   74.5\n&#39;,</span>
<span class="go"> &#39;Josh Freeman QB TB 291 474 3451    25  6   61.4%   95.9\n&#39;,</span>
<span class="go"> &#39;Michael Vick QB PHI    233 372 3018    21  6   62.6%   100.2\n&#39;,</span>
<span class="go"> &#39;Matt Schaub QB HOU 365 574 4370    24  12  63.6%   92.0\n&#39;]</span>
</pre></div>
</div>
<table border="1" class="docutils" id="filemethods2a">
<colgroup>
<col width="26%" />
<col width="30%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Method Name</strong></th>
<th class="head"><strong>Use</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">write</span></code></td>
<td><code class="docutils literal"><span class="pre">filevar.write(astring)</span></code></td>
<td>Add astring to the end of the file.
filevar must refer to a file that has
been  opened for writing.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">read(n)</span></code></td>
<td><code class="docutils literal"><span class="pre">filevar.read()</span></code></td>
<td>Reads and returns a string of <code class="docutils literal"><span class="pre">n</span></code>
characters, or the entire file as a
single string if  n is not provided.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">readline(n)</span></code></td>
<td><code class="docutils literal"><span class="pre">filevar.readline()</span></code></td>
<td>Returns the next line of the file with
all text up to and including the
newline character. If n is provided as
a parameter than only n characters
will be returned if the line is longer
than <code class="docutils literal"><span class="pre">n</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">readlines(n)</span></code></td>
<td><code class="docutils literal"><span class="pre">filevar.readlines()</span></code></td>
<td>Returns a list of strings, each
representing a single line of the file.
If n is not provided then all lines of
the file are returned. If n is provided
then n characters are read but n is
rounded up so that an entire line is
returned.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="importing-csv-files">
<h1>5.2. Importing csv files<a class="headerlink" href="#importing-csv-files" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal"><span class="pre">csv</span></code> standard module comes with a <code class="docutils literal"><span class="pre">reader</span></code> function that saves us the
work of splitting each line into a list of values.  The <code class="docutils literal"><span class="pre">reader</span></code> takes a file
object as an argument, along with a number of optional arguments like
<code class="docutils literal"><span class="pre">delimiter</span></code>.  See <a class="reference external" href="https://docs.python.org/2/library/csv.html#csv-fmt-params">the Python documentation</a> for more
information.</p>
<p>Below, we import and use the <code class="docutils literal"><span class="pre">csv.reader</span></code> to read in <code class="docutils literal"><span class="pre">qbdata.txt</span></code>, using
<code class="docutils literal"><span class="pre">delimiter='</span> <span class="pre">'</span></code> for this space separated file.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="kn">from</span> <span class="nn">csv</span> <span class="kn">import</span> <span class="n">reader</span>

<span class="gp">In [17]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;qbdata.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<span class="gp">   ....: </span>     <span class="n">infile_reader</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="gp">   ....: </span>     <span class="n">table</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">infile_reader</span><span class="p">]</span>
<span class="gp">   ....: </span>

<span class="gp">In [18]: </span><span class="n">table</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="gh">Out[18]: </span><span class="go"></span>
<span class="go">[[&#39;Colt&#39;,</span>
<span class="go">  &#39;McCoy&#39;,</span>
<span class="go">  &#39;QB&#39;,</span>
<span class="go">  &#39;CLE&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;135&#39;,</span>
<span class="go">  &#39;222&#39;,</span>
<span class="go">  &#39;1576&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;6&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;9&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;60.8%&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;74.5&#39;],</span>
<span class="go"> [&#39;Josh&#39;,</span>
<span class="go">  &#39;Freeman&#39;,</span>
<span class="go">  &#39;QB&#39;,</span>
<span class="go">  &#39;TB&#39;,</span>
<span class="go">  &#39;291&#39;,</span>
<span class="go">  &#39;474&#39;,</span>
<span class="go">  &#39;3451&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;25&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;6&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;61.4%&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;&#39;,</span>
<span class="go">  &#39;95.9&#39;]]</span>
</pre></div>
</div>
<p>As you can see, space delimited files can be a problem, as the <code class="docutils literal"><span class="pre">csv.reader</span></code>
split at each individual space.  This is due to the fact that a space separated
file is not a proper csv file.  In this case, reading the lines using the string
<code class="docutils literal"><span class="pre">split</span></code> methods is preferrable.  A better way to split data with whitespace is
to use a tab, which is represented as the special charater <code class="docutils literal"><span class="pre">\t</span></code>.</p>
<p>Let&#8217;s create a tab separated version of qbdata, titled <code class="docutils literal"><span class="pre">qbdata.csv</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;qbdata.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<span class="gp">   ....: </span>     <span class="n">lines</span> <span class="o">=</span> <span class="n">infile</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="gp">   ....: </span>

<span class="gp">In [20]: </span><span class="n">split_lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">]</span>

<span class="gp">In [21]: </span><span class="n">tab_sep_lines</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">split_lines</span><span class="p">]</span>

<span class="gp">In [22]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;qbdata.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
<span class="gp">   ....: </span>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">tab_sep_lines</span><span class="p">:</span>
<span class="gp">   ....: </span>          <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">outfile</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [23]: </span><span class="o">%</span><span class="k">cat</span> qbdata.csv
<span class="go">Colt	McCoy	QB	CLE	135	222	1576	6	9	60.8%	74.5</span>
<span class="go">Josh	Freeman	QB	TB	291	474	3451	25	6	61.4%	95.9</span>
<span class="go">Michael	Vick	QB	PHI	233	372	3018	21	6	62.6%	100.2</span>
<span class="go">Matt	Schaub	QB	HOU	365	574	4370	24	12	63.6%	92.0</span>
<span class="go">Philip	Rivers	QB	SD	357	541	4710	30	13	66.0%	101.8</span>
<span class="go">Matt	Hasselbeck	QB	SEA	266	444	3001	12	17	59.9%	73.2</span>
<span class="go">Jimmy	Clausen	QB	CAR	157	299	1558	3	9	52.5%	58.4</span>
<span class="go">Joe	Flacco	QB	BAL	306	489	3622	25	10	62.6%	93.6</span>
<span class="go">Kyle	Orton	QB	DEN	293	498	3653	20	9	58.8%	87.5</span>
<span class="go">Jason	Campbell	QB	OAK	194	329	2387	13	8	59.0%	84.5</span>
<span class="go">Peyton	Manning	QB	IND	450	679	4700	33	17	66.3%	91.9</span>
<span class="go">Drew	Brees	QB	NO	448	658	4620	33	22	68.1%	90.9</span>
<span class="go">Matt	Ryan	QB	ATL	357	571	3705	28	9	62.5%	91.0</span>
<span class="go">Matt	Cassel	QB	KC	262	450	3116	27	7	58.2%	93.0</span>
<span class="go">Mark	Sanchez	QB	NYJ	278	507	3291	17	13	54.8%	75.3</span>
<span class="go">Brett	Favre	QB	MIN	217	358	2509	11	19	60.6%	69.9</span>
<span class="go">David	Garrard	QB	JAC	236	366	2734	23	15	64.5%	90.8</span>
<span class="go">Eli	Manning	QB	NYG	339	539	4002	31	25	62.9%	85.3</span>
<span class="go">Carson	Palmer	QB	CIN	362	586	3970	26	20	61.8%	82.4</span>
<span class="go">Alex	Smith	QB	SF	204	342	2370	14	10	59.6%	82.1</span>
<span class="go">Chad	Henne	QB	MIA	301	490	3301	15	19	61.4%	75.4</span>
<span class="go">Tony	Romo	QB	DAL	148	213	1605	11	7	69.5%	94.9</span>
<span class="go">Jay	Cutler	QB	CHI	261	432	3274	23	16	60.4%	86.3</span>
<span class="go">Jon	Kitna	QB	DAL	209	318	2365	16	12	65.7%	88.9</span>
<span class="go">Tom	Brady	QB	NE	324	492	3900	36	4	65.9%	111.0</span>
<span class="go">Ben	Roethlisberger	QB	PIT	240	389	3200	17	5	61.7%	97.0</span>
<span class="go">Kerry	Collins	QB	TEN	160	278	1823	14	8	57.6%	82.2</span>
<span class="go">Derek	Anderson	QB	ARI	169	327	2065	7	10	51.7%	65.9</span>
<span class="go">Ryan	Fitzpatrick	QB	BUF	255	441	3000	23	15	57.8%	81.8</span>
<span class="go">Donovan	McNabb	QB	WAS	275	472	3377	14	15	58.3%	77.1</span>
<span class="go">Kevin	Kolb	QB	PHI	115	189	1197	7	7	60.8%	76.1</span>
<span class="go">Aaron	Rodgers	QB	GB	312	475	3922	28	11	65.7%	101.2</span>
<span class="go">Sam	Bradford	QB	STL	354	590	3512	18	15	60.0%	76.5</span>
<span class="go">Shaun	Hill	QB	DET	257	416	2686	16	12	61.8%	81.3</span>
</pre></div>
</div>
<p>Now we read the tab separated file using the <code class="docutils literal"><span class="pre">csv.reader</span></code>, which result in a
much cleaner representation of the data.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [24]: </span><span class="kn">from</span> <span class="nn">csv</span> <span class="kn">import</span> <span class="n">reader</span>

<span class="gp">In [25]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;qbdata.csv&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<span class="gp">   ....: </span>     <span class="n">infile_reader</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">   ....: </span>     <span class="n">table</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">infile_reader</span><span class="p">]</span>
<span class="gp">   ....: </span>

<span class="gp">In [26]: </span><span class="n">table</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="gh">Out[26]: </span><span class="go"></span>
<span class="go">[[&#39;Colt&#39;,</span>
<span class="go">  &#39;McCoy&#39;,</span>
<span class="go">  &#39;QB&#39;,</span>
<span class="go">  &#39;CLE&#39;,</span>
<span class="go">  &#39;135&#39;,</span>
<span class="go">  &#39;222&#39;,</span>
<span class="go">  &#39;1576&#39;,</span>
<span class="go">  &#39;6&#39;,</span>
<span class="go">  &#39;9&#39;,</span>
<span class="go">  &#39;60.8%&#39;,</span>
<span class="go">  &#39;74.5&#39;],</span>
<span class="go"> [&#39;Josh&#39;,</span>
<span class="go">  &#39;Freeman&#39;,</span>
<span class="go">  &#39;QB&#39;,</span>
<span class="go">  &#39;TB&#39;,</span>
<span class="go">  &#39;291&#39;,</span>
<span class="go">  &#39;474&#39;,</span>
<span class="go">  &#39;3451&#39;,</span>
<span class="go">  &#39;25&#39;,</span>
<span class="go">  &#39;6&#39;,</span>
<span class="go">  &#39;61.4%&#39;,</span>
<span class="go">  &#39;95.9&#39;]]</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">qbnames.csv</span></code> can also be read in, and in this case, we can skip the
<code class="docutils literal"><span class="pre">delimiter</span></code> parameter since the default is a <code class="docutils literal"><span class="pre">,</span></code>.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;qbnames.csv&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
<span class="gp">   ....: </span>     <span class="n">infile_reader</span> <span class="o">=</span> <span class="n">reader</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
<span class="gp">   ....: </span>     <span class="n">table</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">infile_reader</span><span class="p">]</span>
<span class="gp">   ....: </span>

<span class="gp">In [28]: </span><span class="n">table</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="gh">Out[28]: </span><span class="go"></span>
<span class="go">[[&#39;McCoy&#39;, &#39;Colt&#39;],</span>
<span class="go"> [&#39;Freeman&#39;, &#39;Josh&#39;],</span>
<span class="go"> [&#39;Vick&#39;, &#39;Michael&#39;],</span>
<span class="go"> [&#39;Schaub&#39;, &#39;Matt&#39;],</span>
<span class="go"> [&#39;Rivers&#39;, &#39;Philip&#39;]]</span>
</pre></div>
</div>
</div>
<div class="section" id="reading-and-writing-large-files">
<h1>5.3. Reading and Writing Large Files<a class="headerlink" href="#reading-and-writing-large-files" title="Permalink to this headline">¶</a></h1>
<p>There is a major advantage to using Python (e.g. versus R) to process large data
files: <strong>Python can process a file line-by-line without the whole file being
read into memory.</strong>   R, on the other hand, reads the whole file into memory,
making processing large files tricky.</p>
<p>A basic framework for processing a large files is to read the file, line by
line, and write out the transformed data at the same time.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;large-infile.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">infile</span><span class="p">:</span>
     <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;outfile.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
          <span class="k">for</span> <span class="n">old_line</span> <span class="ow">in</span> <span class="n">infile</span><span class="p">:</span>
               <span class="n">new_line</span> <span class="o">=</span> <span class="n">process_line</span><span class="p">(</span><span class="n">old_line</span><span class="p">)</span>
               <span class="k">print</span><span class="p">(</span><span class="n">new_line</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">outfile</span><span class="p">)</span>
</pre></div>
</div>
<p>Using thie approach, Python will make sure that only a small portion of the file
will be in memory at any given time.  You will practice this type of processing
as part of <strong>Lab 2</strong>.</p>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 5. Reading Data from Files' data-toggle="tooltip">
    <a href="toctree.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="toctree.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 5.4. Exercises' data-toggle="tooltip" >
    <a href="Exercises.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="Exercises.html" >Next Section - 5.4. Exercises</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015 bn8210wy.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
    </p>
  </div>
</footer>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32029811-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>